import{T as i,S as a}from"./Bad3uSeb.js";import{s as e}from"./hORRRQtm.js";class h{constructor(t,s){this.root=t,this.maxShapes=3,this.loadingClass="loading",this.shapeClass="loading__shape",this.bounceClasses={up:"loading--bounce-up",down:"loading--bounce-down"},this.types=["circle","square","triangle","triangle-2","rectangle"],this.colors=["--color-loading--1","--color-loading--2","--color-loading--3","--color-loading--4"],this.currentColors={},this.maxRuns=20,this.scaleMin=4,this.scaleMax=5,this.rotationMin=90,this.rotationMax=270,this.animationInterval=800,this.intervals=[],this.hasShapes=!1,this.init(s)}getRandomColor(t){let s=this.colors[Math.floor(Math.random()*this.colors.length)];return t<this.maxRuns&&this.currentColors[s]&&(t++,s=this.getRandomColor(t)),s}getRandomType(){return this.types[Math.floor(Math.random()*this.types.length)]}getRandomTypeClass(){return`loading__shape--${this.getRandomType()}`}getRandomScale(){return Math.floor(Math.random()*(this.scaleMax-this.scaleMin+1))+this.scaleMin}getRandomRotation(){return Math.floor(Math.random()*(this.rotationMin-this.rotationMax+1))+this.rotationMin}getRandomOffset(){let t=Math.random()*6-2;return`${t>=0?"+ ":"- "}${t}`}getRandomStyle(){const t=this.getRandomColor();return{style:`
      left: calc(50% ${this.getRandomOffset()}vw);
      --color-loading: var(${t});
      --loading-scale: ${this.getRandomScale()}vh;
      --loading-rotation: ${this.getRandomRotation()}deg
    `,color:t}}createShapes(){for(var t=0;t<this.maxShapes;t++){const s=document.createElement("shape"),o=i.append(this.root,s);this.startAnimation(o)}}startAnimation(t){this.intervals.push(e(()=>{const s=this.getRandomStyle();this.currentColors[s.color]=!0,t.className="",t.classList.add(this.getRandomTypeClass()),t.classList.add(this.shapeClass),t.setAttribute("style",s.style),t.classList.contains(this.bounceClasses.up)?t.classList.replace(this.bounceClasses.down,this.bounceClasses.up):t.classList.add(this.bounceClasses.up),setTimeout(()=>{t.classList.replace(this.bounceClasses.up,this.bounceClasses.down),this.currentColors[s.color]=!1},this.animationInterval/2)},this.animationInterval))}init(t){if(t&&typeof t=="function")return t();this.root.classList.add(this.loadingClass)}on(t){this.hasShapes||(this.hasShapes=!0,this.createShapes()),t!==!0&&this.root.classList.add(a.LOADING)}clear(){this.intervals.forEach(t=>{clearInterval(t)})}off(t,s){t?this.clear():setTimeout(()=>{this.clear(),s!==!0&&this.root.classList.remove(a.LOADING)},100)}}export{h as L};
