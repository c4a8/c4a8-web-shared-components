import{_ as F,c as h,o as _,a as y,b as i,d as r,e as O,w as k,g as j,t as R,n as W,i as H,j as M,R as S,az as X,H as Y,W as b,E as g,T as C,aU as Z,X as D,F as G}from"./BnmIKFE7.js";import{_ as J}from"./CtGuGKOj.js";import{_ as Q}from"./xOPj4szT.js";import{_ as $}from"./Dw0xg4sA.js";import{_ as tt}from"./CS-Lwfzv.js";import{_ as et}from"./DQSZl0Pi.js";import{_ as ot}from"./DAdcJRAm.js";import{_ as at}from"./Cm1YVaNj.js";import{u as st}from"./XqaycF0W.js";import{_ as nt}from"./DLnQL15H.js";import{u as rt}from"./D-zwiAh2.js";import{u as N,q as A}from"./CY_pedWX.js";import{u as ct}from"./CWnBcndY.js";import"./BbIrDrsR.js";import"./DO73Uxug.js";import"./Dc7XaNs3.js";import"./u7-pCJao.js";import"./D9OjWNeJ.js";import"./max9aj_7.js";import"./BgdtG2Xc.js";import"./DfOWqQbf.js";import"./DCY4kpuj.js";import"./S5Q5Yd6S.js";import"./CtRPiY4b.js";import"./DYWe8QY_.js";const E={tagName:"author",data(){return{sortBy:{moment:-1}}},setup(){const{locale:o}=S(),t=st();return{locale:o,store:t}},computed:{postCount(){var o;return((o=this.posts)==null?void 0:o.length)||0},introText(){var e,d,p;if(this.locale==="de")return(e=this.person)==null?void 0:e.description;const o="en";let t=(d=this.person)==null?void 0:d.otherLanguages[this.locale];return t||(t=(p=this.person)==null?void 0:p.otherLanguages[o],t)},intro(){return{body:{type:"minimal",value:[this.introText]}}},imageUrl(){var o;return this.personData?""+((o=this.personData)==null?void 0:o.avatar):""},hasSocials(){var o;return(o=this.personData)==null?void 0:o.socials},servicesData(){return{author:this.personData,title:this.person.title}},showSocials(){var o,t;return((o=this.personData)==null?void 0:o.twitter)||((t=this.personData)==null?void 0:t.linkedin)}},mounted(){this.store.setPageIsLoaded(!0)},props:{person:{type:Object},personData:{type:Object},posts:{type:Array},events:{type:Array},dataAuthors:{type:Object}}},ut={key:0,class:"author"},lt={key:0},it={class:"row mb-4 mb-lg-5",style:{display:"none"}},mt={class:"author__meta col-lg-8 mt-lg-5 mb-2 mb-lg-0"},_t={itemprop:"author",itemscope:"",itemtype:"http://schema.org/Person"},pt={class:"author__intro-block row"},ht={class:"author__intro font-size-2 col-lg-8 pl-lg-0"},dt={key:0,class:"author__events row mt-lg-5"},vt={class:"author__posts"},yt={class:"author__posts-list mt-6 pt-6"},gt={key:1};function ft(o,t,e,d,p,c){const m=J,u=Q,B=$,f=tt,s=et,v=ot,w=at;return e.person?(_(),h("div",ut,[e.personData?(_(),h("div",lt,[i("div",it,[c.imageUrl?(_(),O(m,{key:0,"class-list":"col-6 col-sm-4 col-lg-2 pl-lg-0 mb-5 mb-lg-0",author:e.person,"img-url":c.imageUrl},null,8,["author","img-url"])):y("",!0),i("div",mt,[i("span",_t,[r(u,{level:"h1",classes:"author__name h2",itemprop:"name"},{default:k(()=>[j(R(e.personData.display_name),1)]),_:1})])])]),r(B,{"img-url":c.imageUrl,author:e.personData,"post-count":c.postCount},null,8,["img-url","author","post-count"]),i("div",pt,[i("div",ht,[r(f,{value:c.intro,tag:"p"},null,8,["value"])]),c.showSocials?(_(),h("div",{key:0,class:W(["author__socials col-lg-4",c.hasSocials?"pt-lg-4":""])},[r(s,H(M(c.servicesData)),null,16)],2)):y("",!0)]),e.events&&e.events.length>0?(_(),h("div",dt,[r(v,{events:e.events,"sort-by":p.sortBy},null,8,["events","sort-by"])])):y("",!0),i("div",vt,[i("div",yt,[r(w,{items:e.posts,view:"list-view","data-authors":e.dataAuthors},null,8,["items","data-authors"])])])])):y("",!0)])):(_(),h("div",gt,[r(u,null,{default:k(()=>[...t[0]||(t[0]=[j("Author not found",-1)])]),_:1})]))}const wt=F(E,[["render",ft]]);E.__docgenInfo={exportName:"default",displayName:"author",description:"",tags:{},props:[{name:"person",type:{name:"object"}},{name:"personData",type:{name:"object"}},{name:"posts",type:{name:"array"}},{name:"events",type:{name:"array"}},{name:"dataAuthors",type:{name:"object"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/author.vue"]};const xt={class:"container space-top-2 space-top-lg-4"},bt={__name:"[...slug]",async setup(o){var I,L;let t,e;const{strategy:d}=S(),p=X(),m=Y().$i18n.locale;let u=p.path.replace(/^\/[a-z]{2}\//,"/").replace("/authors","");u=u.endsWith("/")?u:u+"/";const f="author-"+u.replaceAll("/",""),{data:s}=([t,e]=b(()=>N(f,()=>A("authors").path(u).first(),"$_VNPo_jlWY")),t=await t,e(),t),{authors:v}=rt(),w=g(()=>{var a;return v?v[(a=s==null?void 0:s.value)==null?void 0:a.title]:null}),x=g(()=>{var a;return(a=s==null?void 0:s.value)==null?void 0:a.title}),K="content-"+m.value+"-"+((I=s.value)==null?void 0:I.stem),{data:q}=([t,e]=b(()=>N(K,async()=>{const a="content_"+m.value;let n=A(a).where("path","LIKE","/posts/%");return n=n.where("author","LIKE",`%${x.value}%`),n.all()},"$E-6V9TZWNt")),t=await t,e(),t),z=g(()=>q.value?[...q.value].map(a=>{const l=C.normalizeMarkdownItem(a);return l.url=C.addPathPrefix(l.url,m.value,d),l}).sort((a,l)=>{const n=new Date(a.moment);return new Date(l.moment)-n}):[]),T="content-events-"+m.value+"-"+((L=s.value)==null?void 0:L.stem),{data:V}=([t,e]=b(()=>N(T,async()=>{const a="content_"+m.value;let n=A(a).where("path","LIKE","/events/%");return n=n.where("author","LIKE",`%${x.value}%`),n.all()},"$bmpwNSB6B8")),t=await t,e(),t);return g(()=>{if(s.value&&s.value.stem)return!0}).value&&ct({title:x}),(a,l)=>{const n=Z,P=wt,U=nt;return _(),h(G,null,[r(n),r(U,null,{default:k(()=>[i("div",xt,[r(P,{person:D(s),"person-data":w.value,posts:z.value,events:D(V),"data-authors":D(v)},null,8,["person","person-data","posts","events","data-authors"])])]),_:1})],64)}}};bt.__docgenInfo={exportName:"default",displayName:"[...slug]",description:"",tags:{},sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/pages/authors/[...slug].vue"]};export{bt as default};
