import{_ as F}from"./BWN-yRMJ.js";import{_ as Z}from"./D4LraFuh.js";import{_ as Q}from"./BD7v0aS1.js";import{_ as j,c as o,a as y,o as i,b as r,n as k,g as $,d as w,t as v,F as p,r as S,T as L,E as U,S as g,e as B,aq as oe,f as J,m as V}from"./CANVhtT2.js";import{u as le}from"./BxdKZ-OW.js";const ee={tagName:"link-list",computed:{classList(){return["link-list",this.hasNoAnimation?"":"utility-animation",`${this.isExpanded?g.EXPANDED:""}`,`${this.isExpandable()?g.EXPANDABLE:""}`,`${this.hasActiveItem?g.ACTIVE:""}`,`${this.isHidden?"link-list--hidden":""}`,`${this.inTransition?"link-list--in-transition":""}`,this.classes,"vue-component"]},hasNoAnimation(){return L.isTrue(this.noAnimation)},classListTitle(){return["link-list__title font-size-8 bold",this.hasNoAnimation?"":"fade-in-bottom"]},classListList(){return["link-list__list header__list--expanded",this.hasNoAnimation?"":"fade-in-bottom"]},hasActiveItem(){const e=this.list.children;if(!(!e||e===" "))return e.filter(t=>{var n;return((n=t.languages[this.lang])==null?void 0:n.active)===!0}).length>0},isHidden(){return L.isTrue(this.hidden)===!0}},watch:{hidden(e,t){e||(this.inTransition=!0)}},updated(){this.updateHeight(),this.inTransition=!1},mounted(){this.bindEvents()},methods:{bindEvents(){this.parentOfParent=this.$refs.root.parentNode.parentNode,this.parentOfParent.addEventListener(U.CHILD_HAS_UPDATE,this.handleUpdate.bind(this))},handleUpdate(e){const t=e.detail.root;this.isExpanded&&this.$refs.root!==t&&this.handleClick()},isLowerBreakpoint(){return L.isBelowBreakpoint("md")},isExpandable(){var e;return!!(this.isLowerBreakpoint()&&this.list.languages&&((e=this.list.languages[this.lang])!=null&&e.title))},updateHeight(){const e=this.$refs.root;if(!e)return;const t=this.isHidden?"":e.scrollHeight+"px";e.style.height=t},handleClick(e){if(!this.isExpandable())return;this.isExpanded=!this.isExpanded;const t=this.$refs.root;if(e){const n=new CustomEvent(U.CHILD_HAS_UPDATE,{detail:{root:t}});this.parentOfParent.dispatchEvent(n)}!t||this.isExpanded||(t.style.height="")}},props:{list:Object,lang:String,classes:String,hidden:{default:null},noAnimation:{default:null}},data(){return{inTransition:!1,isExpanded:!1,parentOfParent:null}}},ce={key:0,class:"link-list__item"};function de(e,t,n,s,u,a){var f,c;const m=F,_=Q;return n.list?(i(),o("figure",{key:0,class:k(a.classList),ref:"root"},[(f=n.list)!=null&&f.languages?(i(),o("figcaption",{key:0,class:k(a.classListTitle),"data-utility-animation-step":"1",onClick:t[0]||(t[0]=(...d)=>a.handleClick&&a.handleClick(...d))},[$(v((c=n.list.languages[n.lang])==null?void 0:c.title)+" ",1),w(m,{class:"link-list__icon",icon:"expand",size:"small"})],2)):y("",!0),r("ul",{class:k(a.classListList),"data-utility-animation-step":"1"},[(i(!0),o(p,null,S(n.list.children,d=>(i(),o(p,null,[d.languages&&d.languages[n.lang]?(i(),o("li",ce,[w(_,{href:d.languages[n.lang].url,text:d.languages[n.lang].title,active:d.languages[n.lang].active,link:!0,reversed:"true",monochrome:"true"},null,8,["href","text","active"])])):y("",!0)],64))),256))],2)],2)):y("",!0)}const te=j(ee,[["render",de]]);ee.__docgenInfo={exportName:"default",displayName:"link-list",description:"",tags:{},props:[{name:"list",type:{name:"object"}},{name:"lang",type:{name:"string"}},{name:"classes",type:{name:"string"}},{name:"hidden",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"noAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/link-list.vue"]};const ne={tagName:"v-header-item",computed:{navigation(){if(this.lowerLang&&this.activeNavigation)return this.activeNavigation}},methods:{headerItemClasses(e){var t;return["header__item",e.languages&&((t=e.languages[this.lowerLang])!=null&&t.active)?g.ACTIVE:"",e.isMobile?"is--mobile":"",e.skin]},headerLinkClasses(e,t){return this.getListClasses(e,t,["header__link custom"])},getListClasses(e,t,n){const s=this.isLinkListHidden(e,t);return[...n,s?"":g.EXPANDED]},isLinkListHidden(e,t){const n=this.getId(e,t);return!this.linkLists[n]},navHighlightClasses(e,t){return["header__nav-highlight custom",this.isLinkListHidden(e,t)?"is-hidden":""]},headerProductListClasses(e,t){return this.getListClasses(e,t,["header__product-list",this.inTransition?g.IN_TRANSITION:""])}},props:{lowerLang:String,activeNavigation:Object,handleMouseOver:Function,handleClick:Function,getHref:Function,getTarget:Function,linkLists:Object,getId:Function,inTransition:Boolean}},he=["href","target","onClick"],ue=["onMouseover"],ge={class:"header__link-text"},fe={class:"header__link-text-spacer"},me=["href","target"],_e={class:"header__product-list-data"},ve={class:"header__product-list-subtitle"},ye=["href"];function we(e,t,n,s,u,a){const m=F,_=te,f=Z;return i(!0),o(p,null,S(a.navigation,(c,d)=>{var I,b,O,P,M,R;return i(),o("li",{class:k(a.headerItemClasses(c)),key:d},[c!=null&&c.languages?(i(),o("a",{key:0,class:k(a.headerLinkClasses(c,d)),href:n.getHref(c),target:n.getTarget(c),onClick:E=>n.handleClick(c,d),ref_for:!0,ref:"link"},[r("div",{class:"header__link-content",onMouseover:E=>n.handleMouseOver(c,d,E)},[r("span",ge,v((I=c.languages[n.lowerLang])==null?void 0:I.title),1),r("span",fe,v((b=c.languages[n.lowerLang])==null?void 0:b.title),1),c.children?(i(),B(m,{key:0,class:"header__link-icon",icon:"expand",size:"small"})):y("",!0)],40,ue)],10,he)):y("",!0),(i(!0),o(p,null,S(c.children,(E,l)=>(i(),o(p,null,[E&&c.children&&!E.products?(i(),B(_,{key:l,list:E,lang:n.lowerLang,hidden:a.isLinkListHidden(c,d),classes:"header__link-list","no-animation":!0},null,8,["list","lang","hidden"])):(i(),o("div",{class:k(a.headerProductListClasses(c,d)),ref_for:!0,ref:"product-list",key:`product-list-${l}`},[(i(!0),o(p,null,S(E.children,(h,N)=>{var D,T,x,C,A;return i(),o("a",{href:(D=h==null?void 0:h.languages[n.lowerLang])==null?void 0:D.url,target:h.target,class:"header__product-list-item custom",key:N},[w(f,{img:h.img,class:"header__product-list-image",cloudinary:!0,alt:((T=h.languages[n.lowerLang])==null?void 0:T.alt)||((x=h.languages[n.lowerLang])==null?void 0:x.title)},null,8,["img","alt"]),r("div",_e,[r("div",{class:k(["header__product-list-title",c.isMobile?"":"font-size-8 bold"])},v((C=h==null?void 0:h.languages[n.lowerLang])==null?void 0:C.title),3),r("div",ve,v((A=h==null?void 0:h.languages[n.lowerLang])==null?void 0:A.subtitle),1)])],8,me)}),128))],2))],64))),256)),c.languages&&((O=c.languages[n.lowerLang])!=null&&O.emergency)?(i(),o("a",{key:1,href:(P=c.languages[n.lowerLang])==null?void 0:P.emergency.href,class:k(a.navHighlightClasses(c,d))},[w(m,{icon:(M=c.languages[n.lowerLang])==null?void 0:M.emergency.icon,size:"medium"},null,8,["icon"]),$(" "+v((R=c.languages[n.lowerLang])==null?void 0:R.emergency.text),1)],10,ye)):y("",!0)],2)}),128)}const Le=j(ne,[["render",we]]);ne.__docgenInfo={exportName:"default",displayName:"v-header-item",description:"",tags:{},props:[{name:"lowerLang",type:{name:"string"}},{name:"activeNavigation",type:{name:"object"}},{name:"handleMouseOver",type:{name:"func"}},{name:"handleClick",type:{name:"func"}},{name:"getHref",type:{name:"func"}},{name:"getTarget",type:{name:"func"}},{name:"linkLists",type:{name:"object"}},{name:"getId",type:{name:"func"}},{name:"inTransition",type:{name:"boolean"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/v-header-item.vue"]};const q={},ae={tagName:"search",computed:{classList(){return["search",`${this.searchExpanded?"search--expanded":""}`,"vue-component"]},limitedResults(){var e;return(e=this.results)==null?void 0:e.slice(0,this.maxResults)}},data(){return{search:null,store:null,results:null,maxResults:15,searchExpanded:!1}},methods:{handleEnter(){const e=`${this.endpoint}`;if(e)return this.store?this.handleSearch():fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{this.store=t,this.handleSearch()}).catch(t=>{console.log("handleEnter ~ error",t)})},handleSearch(){this.searchEngine||this.initSearchEngine();const e=`${this.$refs.search.value}`;e&&(this.results=this.searchEngine.search(e),console.log("handleSearch ~ this.results",this.results))},initSearchEngine(){const e=this.store,{results:t,weights:n}=e;if(!q)return;const s={includeScore:!0,ignoreLocation:!0,findAllMatches:!0,includeMatches:!0,threshold:.2,keys:n};this.searchEngine=new q(t,s)},handleSearchBar(){this.searchExpanded=!this.searchExpanded,window.addEventListener("click",this.handleOutsideClick.bind(this))},handleOutsideClick(e){this.searchExpanded=L.isOutsideOf("search",e)?!1:this.searchExpanded}},props:{placeholder:String,endpoint:String,language:String}},pe={class:""};function ke(e,t,n,s,u,a){const m=F;return i(),o("div",{class:k(a.classList)},[w(m,{onClick:a.handleSearchBar,class:"search__icon",icon:"magnifier",size:"medium"},null,8,["onClick"]),r("input",{class:"search__bar",ref:"search",type:"search",onKeypress:t[0]||(t[0]=oe((..._)=>a.handleEnter&&a.handleEnter(..._),["enter"]))},null,544),(i(!0),o(p,null,S(a.limitedResults,_=>(i(),o("div",null,[r("div",pe,[r("div",null,"title: "+v(_.item.title),1),r("div",null,"excerpt: "+v(_.item.excerpt),1),r("div",null,"score: "+v(_.score),1)]),t[1]||(t[1]=r("br",null,null,-1)),t[2]||(t[2]=r("br",null,null,-1))]))),256))],2)}const Ne=j(ae,[["render",ke]]);ae.__docgenInfo={exportName:"default",displayName:"search",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"}},{name:"endpoint",type:{name:"string"}},{name:"language",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/search.vue"]};const Y={text:"Discover our products",name:"secondary-navigation",skin:"header__item--is-slim",languages:{de:{title:"Entdecke unsere Produkte"},en:{title:"Discover our products"},es:{title:"Descubra nuestros productos"}},children:[{name:"secondary-products-1",products:!0,children:[{name:"konnekt",img:"products/global/KONNEKT-ListView.svg",target:"_blank",languages:{de:{title:"KONNEKT",subtitle:"Arbeiten Sie lokal mit Ihren Office 365-Daten",url:"https://www.konnekt.io/",alt:"KONNEKT Produktlogo"},en:{title:"KONNEKT",subtitle:"Work with your local office 365 data",url:"https://www.konnekt.io/",alt:"KONNEKT Product logo"},es:{title:"KONNEKT",subtitle:"Work with your local office 365 data",url:"https://www.konnekt.io/",alt:"Logotipo del producto KONNEKT"}}},{name:"radiusaas",img:"products/global/RADIUSaaS-ListView.svg",target:"_blank",languages:{de:{title:"RADIUSaaS",subtitle:"Authentifizierung für Ihr Netzwerk",url:"https://www.radius-as-a-service.com/",alt:"RADIUSaaS Produktlogo"},en:{title:"RADIUSaaS",subtitle:"Authentication for your network",url:"https://www.radius-as-a-service.com/",alt:"RADIUSaaS Product logo"},es:{title:"RADIUSaaS",subtitle:"Authentication for your network",url:"https://www.radius-as-a-service.com/",alt:"Logotipo del producto RADIUSaaS"}}},{name:"scepman",img:"products/global/SCEPman-ListView.svg",target:"_blank",languages:{de:{title:"SCEPman",subtitle:"Zertifikatsverteilung aus der Cloud",url:"https://www.scepman.com/",alt:"SCEPman Produktlogo"},en:{title:"SCEPman",subtitle:"Certificate distribution from the cloud",url:"https://www.scepman.com/",alt:"SCEPman Productlogo"},es:{title:"SCEPman",subtitle:"Distribución de certificados desde la nube",url:"https://www.scepman.com/",alt:"Logotipo del producto SCEPman"}}}]},{name:"secondary-products-2",products:!0,children:[{name:"realmjoin",img:"products/global/RealmJoin-ListView.svg",target:"_blank",languages:{de:{title:"RealmJoin",subtitle:"Cloudbasierte Softwareverteilung",url:"https://www.realmjoin.com/",alt:"RealmJoin Produktlogo"},en:{title:"RealmJoin",subtitle:"Cloudbased Software distribution",url:"https://www.realmjoin.com/",alt:"RealmJoin Product logo"},es:{title:"RealmJoin",subtitle:"Cloudbased Software distribution",url:"https://www.realmjoin.com/",alt:"Logotipo del producto RealmJoin"}}},{name:"unifiedcontacts",img:"products/global/UnifiedContacts-ListView.svg",target:"_blank",languages:{de:{title:"Unified Contacts",subtitle:"Finden Sie alle Ihre Kontakte in Microsoft Teams",url:"https://www.unified-contacts.com/",alt:"Unified Contacts Produktlogo"},en:{title:"Unified Contacts",subtitle:"Find contacts in Microsoft Teams",url:"https://www.unified-contacts.com/",alt:"Unified Contacts Product logo"},es:{title:"Unified Contacts",subtitle:"Find contacts in Microsoft Teams",url:"https://www.unified-contacts.com/",alt:"Logotipo del producto Unified Contacts"}}},{name:"terraprovider",img:"products/global/TerraProvider-ListView.svg",target:"_blank",languages:{de:{title:"TerraProvider",subtitle:"Terraform Provider für Microsoft 365",url:"https://www.terraprovider.com/",alt:"TerraProvider Produktlogo"},en:{title:"TerraProvider",subtitle:"Terraform Provider for Microsoft 365",url:"https://www.terraprovider.com/",alt:"TerraProvider Product logo"},es:{title:"TerraProvider",subtitle:"Terraform Provider para Microsoft 365",url:"https://www.terraprovider.com/",alt:"Logotipo del producto TerraProvider"}}}]}]},se={tagName:"v-header",setup(){return{store:le()}},computed:{classList(){return["header",this.isScrolled?g.IS_SCROLLED:"",this.isLight?"header--light":"",L.isTrue(this.hover)?g.HOVERING:"",L.isTrue(this.product)?"header--product":"",L.isTrue(this.closed)?"":g.EXPANDED,L.isTrue(this.blendMode)?"header--blending":"",this.onSurface?g.ON_SURFACE:"",this.inUpdate?"is-updating":"","vue-component"]},secondaryNavigationClassList(){return["header__secondary-navigation",this.secondaryNavigationInTransition?g.IN_TRANSITION:"",this.secondaryNavigationDimensions?g.READY:"",this.secondaryNavigationIsExpanded?g.IS_EXPANDED:""]},secondaryNavigation(){return this.showSecondaryNavigation?{...Y,children:Y.children.map(e=>({...e,children:e.children.filter(t=>t.name!==this.theme)}))}:null},headerLogoStyle(){if(!(!this.secondaryNavigation||!this.logoOffsetPosition))return`padding-left: ${this.logoOffsetPosition}px;`},headerContainerClassList(){return["header__container",this.containerClass]},containerClass(){return L.isTrue(this.product)?"container":"container-xxl"},homeObj(){var e;return(e=this.home)==null?void 0:e.languages[this.lowerLang]},lowerLang(){return this.lang?this.lang.toLowerCase():this.defaultLang},searchValue(){return L.isTrue(this.search)},metaList(){return!this.meta||typeof this.meta!="object"?null:{...this.meta,children:this.meta}},spacerBgColor(){return`--color-header-spacer-background: ${this.bgColor?this.bgColor:"var(--color-header-background)"}; background-color: var(--color-header-spacer-background);`},clonedNavigation(){const e=JSON.parse(JSON.stringify(this.navigation));return this.secondaryNavigation&&(this.secondaryNavigation.isMobile=!0,e.push(this.secondaryNavigation)),e},isLight(){return this.light===!0},hasLangSwitch(){var e;return Object.keys((e=this.home)==null?void 0:e.languages).length>1},hasContact(){return this.contact},hasMeta(){return this.meta&&this.meta.length>0},headerState(){return this.store.getHeader},onSurfaceCta(){return this.hoverHeader||this.isScrolled?null:this.onSurface||this.isLight&&this.onSurface}},created(){this.setActiveNavigation(),this.store.setHeader({isScrolled:this.isScrolled,isLight:this.isLight,isHovering:this.hover,isProduct:this.product,isExpanded:!this.closed,isBlending:this.blendMode,isUpdating:this.inUpdate})},watch:{secondaryNavigationDimensions(e){e!==null&&e.width>=0&&this.$nextTick(()=>{this.calculateLogoOffsetPosition()})},isScrolled(e){this.store.setHeader({...this.headerState,isScrolled:e})},hover(e){this.store.setHeader({...this.headerState,isHovering:e})},closed(e){this.store.setHeader({...this.headerState,isExpanded:!e})},blendMode(e){this.store.setHeader({...this.headerState,isBlending:e})},inUpdate(e){this.store.setHeader({...this.headerState,isUpdating:e})}},mounted(){this.bindEvents(),this.setCtaClasses(),this.setLinkWidth(),this.handleScroll(),this.secondaryNavigation&&this.getSecondaryNavigationDimensions()},updated(){this.inUpdate&&(this.updateProductListHeight(),this.inUpdate=!1,this.inTransition=!1)},methods:{getSecondaryNavigationDimensions(){if(!this.secondaryNavigation)return;const e=this.$refs.secondaryNavigation;e.dataset.updating=!0,this.secondaryNavigationDimensions=null,e.style.width=null,e.style.height=null,e.removeAttribute("data-width-expanded"),e.removeAttribute("data-height-expanded"),this.secondaryNavigationDimensions={width:e.offsetWidth},e.removeAttribute("data-updating")},closeSecondaryNavigation(){if(!this.secondaryNavigation||!this.secondaryNavigationIsExpanded)return;this.secondaryNavigationInTransition=!this.secondaryNavigationInTransition,this.secondaryNavigationIsExpanded=!this.secondaryNavigationIsExpanded;const e=this.$refs.secondaryNavigation;e.removeAttribute("data-height-expanded"),e.removeAttribute("data-width-expanded"),e.style.height=null,e.style.width=null,this.secondaryNavigationTransitionState=null},toggleSecondaryNavigation(){if(!this.secondaryNavigation)return;const e=this.$refs.secondaryNavigation,t=this.$refs.secondaryNavigationButton;if(!(!e||!t)){if(clearTimeout(this.secondaryNavigationTimeout),this.secondaryNavigationInTransition=!this.secondaryNavigationInTransition,this.secondaryNavigationIsExpanded=!this.secondaryNavigationIsExpanded,this.secondaryNavigationIsExpanded)return this.expandWidthSecondaryNavigation(e);this.shrinkSecondaryNavigation(e,t)}},shrinkWidthSecondaryNavigation(){const e=this.$refs.secondaryNavigation;if(!e)return;e.removeAttribute("data-height-expanded"),e.style.height=null;const n=this.getSecondaryNavigationButtonDimensions().height;e.style.width=`${n}px`,e.removeAttribute("data-width-expanded"),this.secondaryNavigationTransitionState=null},shrinkSecondaryNavigation(e){const n=this.getSecondaryNavigationButtonDimensions().height;e.style.height=`${n}px`,this.secondaryNavigationTransitionState=this.secondaryNavigationTransitionStates.SHRINKING_HEIGHT},expandWidthSecondaryNavigation(e){if(!this.secondaryNavigationInTransition)return;const t=this.secondaryNavigationDimensions,s=this.getSecondaryNavigationButtonDimensions().width;e.style.width=`${s}px`,this.secondaryNavigationTimeout=setTimeout(()=>{e.style.width=`${t.width}px`,this.expandSecondaryNavigation()},this.secondaryNaivgationTransitionDelay)},expandSecondaryNavigation(){const e=this.$refs.secondaryNavigation;if(!e)return;e.dataset.widthExpanded=!0;const t=this.$refs.secondaryNavigationInnerContent,s=this.getSecondaryNavigationButtonDimensions().height;e.style.height=`${s}px`,this.secondaryNavigationTimeout=setTimeout(()=>{this.secondaryNavigationDimensions.height=t.offsetHeight;const u=this.secondaryNavigationDimensions;e.dataset.heightExpanded=!0,e.style.height=`${s+u.height}px`},this.secondaryNaivgationTransitionDelay*4)},handleSecondaryNavigationTransitionEnd(e){this.secondaryNavigationTransitionState&&((e==null?void 0:e.propertyName)!=="height"||(e==null?void 0:e.propertyName)!=="width")||this.secondaryNavigationTransitionState===this.secondaryNavigationTransitionStates.SHRINKING_HEIGHT&&this.shrinkWidthSecondaryNavigation()},calculateLogoOffsetPosition(){if(this.logoOffsetPosition=0,!L.isUpperBreakpoint())return;const e=this.$refs.headerContainer;if(!e)return{leftSpace:0};const t=window.getComputedStyle(e),n=parseFloat(t.width),s=window.innerWidth,u=20,a=(s-n)/2,_=this.getSecondaryNavigationButtonDimensions().width,f=a<_?_-a-u:0;this.logoOffsetPosition=f},getSecondaryNavigationButtonDimensions(){const e=this.$refs.secondaryNavigationButton;return{width:e.offsetWidth,height:e.offsetHeight}},setActiveNavigation(){this.setActiveLinks(),this.activeNavigation=this.clonedNavigation},setLinkWidth(){var n;const e=this.$refs.headerItem,t=e==null?void 0:e.$refs.link;if(t)for(let s=0;s<t.length;s++){const u=t[s],a=(n=u==null?void 0:u.querySelector(".header__link-text-spacer"))==null?void 0:n.clientWidth;u.style.setProperty("--header-link-text-width",a+"px")}},showFlyoutBlock(e){return!(e.length>this.maxLinkListsInFlyout)},isLowerBreakpoint(){return L.isBelowBreakpoint("md")},bindEvents(){window.addEventListener("scroll",this.handleScroll.bind(this)),document.addEventListener(U.WINDOW_RESIZE,this.handleResize.bind(this))},handleResize(){this.reset(),this.setLinkWidth(),this.closeSecondaryNavigation(),this.getSecondaryNavigationDimensions()},handleScroll(){this.isScrolled=window.scrollY>this.scrollThreshold,this.setCtaClasses()},reset(){this.resetFlyouts(),this.updateProductListHeight(),this.closed=!0},handleCloseClick(){this.closed=!this.closed,this.closed&&this.reset()},resetFlyouts(){Object.keys(this.linkLists).forEach(e=>{this.linkLists[e]=!1})},handleClick(e,t){if(!this.isLowerBreakpoint())return;const n=this.getId(e,t);this.linkLists[n]=!this.linkLists[n],this.linkLists[n]&&(this.inTransition=!0),this.inUpdate=!0,this.closeAllSiblings(n),this.closeAllChildren()},closeAllSiblings(e){Object.keys(this.linkLists).forEach(n=>{n!==e&&(this.linkLists[n]=!1)})},closeAllChildren(){const e=new CustomEvent(U.CHILD_HAS_UPDATE,{detail:{}});this.$refs.list.dispatchEvent(e)},getId(e,t){return`${e.name}_${t}`},handleHeaderMouseOver(){this.hoverHeader=!0,this.setCtaClasses()},handleHeaderMouseOut(){this.hoverHeader=!1,this.setCtaClasses()},setCtaClasses(){this.isLight&&(this.hoverHeader||this.isScrolled?this.ctaClassList=null:this.ctaClassList="is-light-lg")},handleMouseOver(e,t){if(!e.children)return;this.resetAllFlyouts(),this.hover=!0;const n=this.getLinkRef(t);if(!n)return;n.classList.add(g.EXPANDED);const s=this.getFlyoutRef(t);s&&(this.flyoutIndex=t,s.classList.add(g.EXPANDED))},handleMouseOut(e){var s;if((s=e.relatedTarget)!=null&&s.closest(".header__flyout"))return;this.hover=!1;const t=this.getLinkRef(this.flyoutIndex);if(!t)return;t.classList.remove(g.EXPANDED);const n=this.getFlyoutRef(this.flyoutIndex);n&&n.classList.remove(g.EXPANDED)},handleLanguageOver(){this.resetAllFlyouts(),this.hover=!0;const e=this.$refs.languageSwitch;e&&e.classList.add(g.EXPANDED)},handleLanguageOut(e){var n;if((n=e.relatedTarget)!=null&&n.closest(".header__flyout"))return;this.hover=!1;const t=this.$refs.languageSwitch;t&&t.classList.remove(g.EXPANDED)},resetAllFlyouts(){var n;const e=this.$refs.headerItem,t=e==null?void 0:e.$refs.link;t==null||t.forEach(s=>{s.classList.remove(g.EXPANDED)}),(n=this.$refs.flyout)==null||n.forEach(s=>{s.classList.remove(g.EXPANDED)})},getFlyoutRef(e){return this.getRef("flyout",e)},getLinkRef(e){return this.getRef("link",e)},getRef(e,t){let n=null;return this.$refs[e]?n=this.$refs[e][t]:this.$refs.headerItem&&this.$refs.headerItem.$refs[e]&&(n=this.$refs.headerItem.$refs[e][t]),n||null},getHref(e){var t;return e.children?"javascript:void(0);":(t=e.languages[this.lowerLang])==null?void 0:t.url},getTarget(e){var n;if(!e||!e.languages)return null;const t=((n=e==null?void 0:e.languages[this.lowerLang])==null?void 0:n.target)||e.target;return t||null},getNextLanguage(){const e=this.home.languages;if(!e)return;const t=Object.keys(e);if(!t.length)return;const n=t.filter(s=>s!==this.lowerLang);if(n.length)return n[0]},handleLanguageSwitch(e){var s;const t=this.getActiveUrlByLang(e),n=t||((s=this.home.languages[e])==null?void 0:s.url);L.storageSave("preferedLanguage",e,!1),document.location.href=n},getActiveUrlByLang(e,t){var _;const n=L.getCurrentPath(),s="/",u=(f,c)=>{if(!(f!=null&&f.title))return;let d=f==null?void 0:f.url;n[(n==null?void 0:n.length)-1]===s&&d&&d[(d==null?void 0:d.length)-1]!==s&&(d=d+s);const I=d===n||d===n+s,b=this.getParentLink(c);return t&&I?(f.active=!0,b&&(b.active=!0)):(f.active=!1,b&&(b.active=!1)),I},a=(f,c)=>c;let m=L.findRecursive(this.clonedNavigation,u,a);if(m||(m=L.findRecursive(this.meta,u,a)),m||(m=L.findRecursive(this.contact,u,a)),!m){const f=this.getHrefLang(e);return f||this.getTranslatedUrl(n,e)}return(_=m[e])==null?void 0:_.url},getTranslatedUrl(e,t){if(this.isBlogTagsUrl(e))return this.getBlogTagsUrl(t,e);const n=this.getFolderSwitchSegment(e);return n?this.getFolderSwitchUrl(t,e,n):null},getFolderSwitchSegment(e){const t=this.home.folderSwitch;return t&&t.find(s=>e.includes(s))||null},getFolderSwitchUrl(e,t,n){if(!n)return t;const s=new RegExp(`^/${this.lowerLang}/`);return t.replace(s,`/${e}/`)},isBlogTagsUrl(e){return/\/blog\/tags/.test(e)},getBlogTagsUrl(e,t){let n;const s="tags";switch(e){case"en":n=t.replace(s,`${s}-${e}`);break;default:case this.defaultLang:const u=new RegExp(`${s}-..`);n=t.replace(u,s);break}return n+document.location.search},getHrefLang(e){const t=document==null?void 0:document.querySelector(`link[hreflang=${e}]`);if(t)return t.getAttribute("href")},getParentLink(e){const t=this.clonedNavigation[e];return t==null?void 0:t.languages[this.lowerLang]},setActiveLinks(){this.getActiveUrlByLang(this.lowerLang,!0)},updateProductListHeight(){const e=this.$refs.headerItem,t=e==null?void 0:e.$refs["product-list"];if(t)for(let n=0;n<t.length;n++){const s=t[n],a=!s.classList.contains(g.EXPANDED)||s.style.height!==""?"":s.scrollHeight+"px";s.style.height=a}},hasContactLink(e){var t,n;return((t=this.contact)==null?void 0:t.languages)&&!((n=e.languages[this.lowerLang])!=null&&n.emergency)}},props:{home:Object,navigation:Object,meta:Object,light:{default:null},search:{default:null},lang:String,contact:Object,bgColor:String,product:{default:null},button:{default:null},blendMode:{default:null},showSecondaryNavigation:{default:!1,type:Boolean},theme:String,onSurface:Boolean},data(){return{hoverHeader:!1,inUpdate:!1,inTransition:!1,defaultLang:"de",closed:!0,hover:!1,headerHover:!1,flyoutIndex:null,linkLists:{},scrollThreshold:10,isScrolled:!1,ctaClassList:null,maxLinkListsInFlyout:3,activeNavigation:{},logoOffsetPosition:null,secondaryNavigationInTransition:!1,secondaryNavigationIsExpanded:!1,secondaryNavigationDimensions:null,secondaryNavigationTimeout:null,secondaryNaivgationTransitionDelay:100,secondaryNavigationTransitionState:null,secondaryNavigationTransitionStates:{SHRINKING_HEIGHT:0,SHRINKING_WIDTH:1}}}},Se={class:"header__row row"},be={class:"header__col col"},Ee={class:"header__secondary-navigation-text"},Te={class:"header__secondary-navigation-content"},xe={class:"header__secondary-navigation-inner-content",ref:"secondaryNavigationInnerContent"},Ce=["href","target"],Ie={class:"header__secondary-navigation-item-text"},De=["href"],He={class:"header__list",ref:"list"},Ae={class:"header__footer"},Oe={key:1,class:"header__contact header__contact--mobile"},Pe=["href"],Me={class:"header__contact-text"},Re={class:"header__contact-title"},Be={key:2,class:"header__button"},Ue={key:3,class:"header__language-switch"},Fe=["onClick"],je={key:1,class:"header__button"},Ve={class:"header__link-text"},Ke={class:"header__link-text-spacer"},We={class:"header__language-switch-flyout",ref:"languageSwitchFlyout"},ze=["onClick"],Xe={class:"row"},Ge={class:"col"},Je={key:0,class:"header__flyout-items"},qe={key:0,class:"header__flyout-block"},Ye={class:"header__flyout-caption"},Ze=["innerHTML"],Qe=["href"],$e={class:"header__contact-title"},et={key:1,class:"header__highlight-cta has-emergency-colors"},tt={key:1,class:"header__product-list is-expanded"},nt=["href","target"],at={class:"header__product-list-data"},st={class:"header__product-list-title font-size-8 bold"},it={class:"header__product-list-subtitle"};function rt(e,t,n,s,u,a){var b,O,P,M,R,E;const m=F,_=Z,f=Le,c=te,d=Q,I=Ne;return i(),o(p,null,[r("div",{class:"header__spacer",style:J(a.spacerBgColor)},null,4),r("header",{class:k(a.classList),onMouseover:t[7]||(t[7]=(...l)=>a.handleHeaderMouseOver&&a.handleHeaderMouseOver(...l)),onMouseout:t[8]||(t[8]=(...l)=>a.handleHeaderMouseOut&&a.handleHeaderMouseOut(...l))},[r("div",{class:k(a.headerContainerClassList),ref:"headerContainer"},[r("div",Se,[r("div",be,[a.secondaryNavigation?(i(),o("div",{key:0,class:k(a.secondaryNavigationClassList),onTransitionend:t[1]||(t[1]=(...l)=>a.handleSecondaryNavigationTransitionEnd&&a.handleSecondaryNavigationTransitionEnd(...l)),ref:"secondaryNavigation"},[r("div",{class:"header__secondary-navigation-button",ref:"secondaryNavigationButton",onClick:t[0]||(t[0]=(...l)=>a.toggleSecondaryNavigation&&a.toggleSecondaryNavigation(...l))},[w(m,{class:"header__secondary-navigation-icon",icon:"grid"}),r("span",Ee,v(a.secondaryNavigation.text),1)],512),r("div",Te,[r("div",xe,[(i(!0),o(p,null,S(a.secondaryNavigation.children,(l,h)=>(i(),o(p,{key:h},[(i(!0),o(p,null,S(l.children,(N,D)=>{var T,x,C;return i(),o("a",{href:a.getHref(N),target:a.getTarget(N),class:"header__secondary-navigation-item custom",key:D},[w(_,{img:N.img,class:"header__secondary-navigation-item-img",cloudinary:!0,alt:((T=N.languages[a.lowerLang])==null?void 0:T.alt)||((x=N.languages[a.lowerLang])==null?void 0:x.title)},null,8,["img","alt"]),r("span",Ie,v((C=N.languages[a.lowerLang])==null?void 0:C.title),1)],8,Ce)}),128))],64))),128))],512)])],34)):y("",!0),r("div",{class:"header__logo",style:J(a.headerLogoStyle)},[r("a",{href:(b=a.homeObj)==null?void 0:b.url},[w(_,{img:(O=n.home)==null?void 0:O.imgLight,class:"header__logo-light",cloudinary:!0,alt:"logo"},null,8,["img"]),w(_,{img:(P=n.home)==null?void 0:P.img,class:"header__logo-default",cloudinary:!0,alt:"logo"},null,8,["img"])],8,De)],4),r("div",{class:"header__menu",onClick:t[2]||(t[2]=(...l)=>a.handleCloseClick&&a.handleCloseClick(...l))},[w(m,{icon:"v-menu",class:"header__menu-icon",closed:u.closed},null,8,["closed"])]),r("nav",{class:"header__nav",onMouseout:t[3]||(t[3]=(...l)=>a.handleMouseOut&&a.handleMouseOut(...l))},[r("ul",He,[w(f,{activeNavigation:u.activeNavigation,lowerLang:a.lowerLang,handleMouseOver:a.handleMouseOver,handleClick:a.handleClick,getHref:a.getHref,getTarget:a.getTarget,linkLists:u.linkLists,getId:a.getId,inTransition:u.inTransition,ref:"headerItem"},null,8,["activeNavigation","lowerLang","handleMouseOver","handleClick","getHref","getTarget","linkLists","getId","inTransition"])],512),r("div",Ae,[a.metaList&&a.hasMeta?(i(),B(c,{key:0,list:a.metaList,lang:a.lowerLang,classes:"header__meta-list","no-animation":!0},null,8,["list","lang"])):y("",!0),a.hasContact?(i(),o("div",Oe,[(M=n.contact)!=null&&M.languages?(i(),o("a",{key:0,class:"header__contact-link custom",href:(R=n.contact.languages[a.lowerLang])==null?void 0:R.url},[r("div",Me,[w(m,{icon:"phone-mail",size:"medium"}),r("span",Re,v((E=n.contact.languages[a.lowerLang])==null?void 0:E.title),1)])],8,Pe)):y("",!0)])):y("",!0),n.button?(i(),o("div",Be,[w(d,V({classes:u.ctaClassList,"on-surface":a.onSurfaceCta},n.button),null,16,["classes","on-surface"])])):y("",!0),a.hasLangSwitch?(i(),o("div",Ue,[(i(!0),o(p,null,S(n.home.languages,(l,h)=>(i(),o("a",{key:h,class:k({"header__language-link custom":!0,active:h===a.lowerLang}),onClick:N=>a.handleLanguageSwitch(h)},v(h),11,Fe))),128))])):y("",!0)])],32),n.button?(i(),o("div",je,[w(d,V({classes:u.ctaClassList,"on-surface":a.onSurfaceCta},n.button),null,16,["classes","on-surface"])])):y("",!0),a.searchValue?(i(),B(I,{key:2,class:"header__search",language:"de",placeholder:"search"})):y("",!0),a.hasLangSwitch?(i(),o("div",{key:3,class:"header__language-switch",onMouseover:t[4]||(t[4]=(...l)=>a.handleLanguageOver&&a.handleLanguageOver(...l)),onMouseout:t[5]||(t[5]=(...l)=>a.handleLanguageOut&&a.handleLanguageOut(...l)),ref:"languageSwitch"},[r("span",Ve,v(n.lang),1),r("span",Ke,v(n.lang),1),w(m,{class:"header__link-icon",icon:"expand",size:"small"}),r("div",We,[(i(!0),o(p,null,S(n.home.languages,(l,h)=>(i(),o("a",{class:k({"header__language-link custom":!0,"d-none":h===a.lowerLang}),onClick:N=>a.handleLanguageSwitch(h),key:h},v(h),11,ze))),128))],512)],544)):y("",!0)])])],2),r("div",{class:"header__flyout",onMouseout:t[6]||(t[6]=(...l)=>a.handleMouseOut&&a.handleMouseOut(...l))},[r("div",{class:k(a.containerClass)},[r("div",Xe,[r("div",Ge,[(i(!0),o(p,null,S(u.activeNavigation,(l,h)=>{var N,D,T,x,C;return i(),o("div",{class:"header__flyout-content",ref_for:!0,ref:"flyout",key:h},[l.children?(i(),o("div",Je,[a.showFlyoutBlock(l.children)?(i(),o("figure",qe,[r("figcaption",Ye,v((N=l.languages[a.lowerLang])==null?void 0:N.title),1),r("div",{class:"header__flyout-description font-size-1 thin",innerHTML:(D=l.languages[a.lowerLang])==null?void 0:D.description},null,8,Ze),a.hasContactLink(l)?(i(),o("a",{key:0,class:"header__link custom",href:(T=n.contact.languages[a.lowerLang])==null?void 0:T.url},[w(m,{icon:"phone-mail",size:"medium"}),r("span",$e,v((x=n.contact.languages[a.lowerLang])==null?void 0:x.title),1)],8,Qe)):y("",!0),(C=l.languages[a.lowerLang])!=null&&C.emergency?(i(),o("div",et,[w(d,V({ref_for:!0},l.languages[a.lowerLang].emergency),null,16)])):y("",!0)])):y("",!0),(i(!0),o(p,null,S(l.children,(A,ie)=>(i(),o(p,{key:ie},[l.children&&!A.products?(i(),B(c,{key:0,list:A,lang:a.lowerLang,"no-animation":!0},null,8,["list","lang"])):(i(),o("div",tt,[(i(!0),o(p,null,S(A.children,(H,re)=>{var K,W,z,X,G;return i(),o("a",{href:(K=H.languages[a.lowerLang])==null?void 0:K.url,target:H.target,class:"header__product-list-item custom",key:re},[w(_,{img:H.img,class:"header__product-list-image",cloudinary:!0,alt:((W=H.languages[a.lowerLang])==null?void 0:W.alt)||((z=H.languages[a.lowerLang])==null?void 0:z.title)},null,8,["img","alt"]),r("div",at,[r("div",st,v((X=H.languages[a.lowerLang])==null?void 0:X.title),1),r("div",it,v((G=H.languages[a.lowerLang])==null?void 0:G.subtitle),1)])],8,nt)}),128))]))],64))),128))])):y("",!0)])}),128))])])],2)],32)],34)],64)}const ut=j(se,[["render",rt]]);se.__docgenInfo={exportName:"default",displayName:"v-header",description:"",tags:{},props:[{name:"home",type:{name:"object"}},{name:"navigation",type:{name:"object"}},{name:"meta",type:{name:"object"}},{name:"light",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"search",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"lang",type:{name:"string"}},{name:"contact",type:{name:"object"}},{name:"bgColor",type:{name:"string"}},{name:"product",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"button",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"blendMode",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"showSecondaryNavigation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"theme",type:{name:"string"}},{name:"onSurface",type:{name:"boolean"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/v-header.vue"]};export{ut as V};
