import{q as l,G as _,s as A,v as S,a2 as T,c as V,o as $,b as k,f as L,n as h,k as N}from"./B0N0kLik.js";const H={__name:"sticky-block",props:{stickyOffsetTop:{type:Number,default:100},stickyOffsetBottom:{type:Number,default:20},breakpoint:{type:String,default:null},class:{type:[String,Object,Array],default:""},isAtEnd:{type:Boolean,default:!1},hasPadding:{type:Boolean,default:!0},endPoint:{type:Number,default:null}},emits:["update:isAtEnd","update:endPoint","update:contentHeight"],setup(f,{emit:b}){const e=f,g=b,t=l(null),c=l(null),i=l(0),u=l(0),d=l(!1),n=l({position:"",top:"",bottom:"",left:"",width:""}),w=_(()=>e.class),x={xs:0,sm:576,md:768,lg:992,xl:1280},P=(s=window.scrollY)=>e.stickyOffsetTop+(u.value-s),a=()=>{if(!c.value||!t.value)return;const s=window.scrollY,p=t.value.getBoundingClientRect().top+s,E=t.value.offsetWidth,m=t.value.getBoundingClientRect().left,v=c.value.offsetHeight;if(g("update:contentHeight",v),d.value=e.breakpoint?window.innerWidth<=x[e.breakpoint]:!1,d.value){n.value={position:"",top:"",bottom:"",left:"",width:""},t.value.style.height="";return}const r=s>=p-e.stickyOffsetTop,o=n.value.position,B=n.value.top,O=n.value.left;if(o===""&&r||o==="fixed"&&!r||o==="fixed"&&e.isAtEnd||o==="fixed"&&O!==`${m}px`||o==="fixed"&&!e.isAtEnd&&B!==`${e.stickyOffsetTop}px`)if(r){let y=`${e.stickyOffsetTop}px`;e.isAtEnd?(u.value===null&&(i.value===0&&(i.value=e.endPoint),u.value=i.value),y=`${P()}px`):(u.value=null,i.value=s),n.value={position:"fixed",left:`${m}px`,width:`${E}px`,top:y},t.value.style.height=`${v}px`}else n.value={position:"",top:"",bottom:"",left:"",width:""},t.value.style.height=""};return A(()=>{window.addEventListener("resize",a),window.addEventListener("scroll",a),a()}),S(()=>{window.removeEventListener("resize",a),window.removeEventListener("scroll",a)}),T(()=>e.endPoint,()=>{a()}),(s,p)=>($(),V("div",{class:h(["sticky-block",w.value])},[k("div",{ref_key:"startMarker",ref:t,class:"sticky-block__start"},[k("div",{ref_key:"stickyBlock",ref:c,class:h(["js-sticky-block pt-2",{"hs-kill-sticky":d.value,"pl-xl-2":f.hasPadding}]),style:L(n.value)},[N(s.$slots,"default")],6)],512)],2))}};H.__docgenInfo={exportName:"default",displayName:"sticky-block",description:"",tags:{},props:[{name:"stickyOffsetTop",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"stickyOffsetBottom",type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"breakpoint",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"class",type:{name:"string|object|array"},defaultValue:{func:!1,value:"''"}},{name:"isAtEnd",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasPadding",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"endPoint",type:{name:"number"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:isAtEnd"},{name:"update:endPoint"},{name:"update:contentHeight"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/sticky-block.vue"]};export{H as _};
