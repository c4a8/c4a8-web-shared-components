import{C as f,at as S,au as V,av as L,K as l,H as T,u as w,aw as R,ax as C,B as b,a2 as D,J as G,ay as x,az as j,aA as M,aB as E,aC as U,aD as I,aE as F,aF as W,aG as X,aH as $,F as Q,al as q,aI as Y,E as Z,X as B,aJ as g,aK as ee,m as te,e as ne,o as ae,w as oe,d as re}from"./xVcyjPAW.js";const z=(t="RouteProvider")=>f({name:t,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const e=n.renderKey,u=n.route,a={};for(const r in n.route)Object.defineProperty(a,r,{get:()=>e===n.renderKey?n.route[r]:u[r],enumerable:!0});return S(L,V(a)),()=>l(n.vnode,{ref:n.vnodeRef})}}),se=z(),N=new WeakMap,ue=f({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:n,slots:e,expose:u}){const a=T(),r=w(),i=R(L,null);let c;u({pageRef:r});const s=R(C,null);let d;const v=a.deferHydration();if(a.isHydrating){const o=a.hooks.hookOnce("app:error",v);b().beforeEach(o)}t.pageKey&&D(()=>t.pageKey,(o,h)=>{o!==h&&a.callHook("page:loading:start")});let y=!1;{const o=b().beforeResolve(()=>{y=!1});G(()=>{o()})}return()=>l(W,{name:t.name,route:t.route,...n},{default:o=>{const h=le(i,o.route,o.Component),A=i&&i.matched.length===o.route.matched.length;if(!o.Component){if(d&&!A)return d;v();return}if(d&&s&&!s.isCurrent(o.route))return d;if(h&&i&&(!s||s!=null&&s.isCurrent(i)))return A?d:null;const m=x(o,t.pageKey),H=de(i,o.route,o.Component);!a.isHydrating&&c===m&&!H&&(a.callHook("page:loading:end"),y=!0),c=m;const k=!!(t.transition??o.route.meta.pageTransition??j),J=k&&ie([t.transition,o.route.meta.pageTransition,j,{onAfterLeave:()=>{a.callHook("page:transition:finish",o.Component)}}]),K=t.keepalive??o.route.meta.keepalive??M;return d=E(k&&J,U(K,l(I,{suspensible:!0,onPending:()=>a.callHook("page:start",o.Component),onResolve:()=>{F(()=>a.callHook("page:finish",o.Component).then(()=>{if(!y&&!H)return y=!0,a.callHook("page:loading:end")}).finally(v))}},{default:()=>{const P={key:m||void 0,vnode:e.default?ce(e.default,o):o.Component,route:o.route,renderKey:m||void 0,trackRootNodes:k,vnodeRef:r};if(!K)return l(se,P);const _=o.Component.type,O=_;let p=N.get(O);return p||(p=z(_.name||_.__name),N.set(O,p)),l(p,P)}}))).default(),d}})}});function ie(t){const n=t.filter(Boolean).map(e=>({...e,onAfterLeave:e.onAfterLeave?X(e.onAfterLeave):void 0}));return $(...n)}function le(t,n,e){if(!t)return!1;const u=n.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(e==null?void 0:e.type)});return!u||u===-1?!1:n.matched.slice(0,u).some((a,r)=>{var i,c,s;return((i=a.components)==null?void 0:i.default)!==((s=(c=t.matched[r])==null?void 0:c.components)==null?void 0:s.default)})||e&&x({route:n,Component:e})!==x({route:t,Component:e})}function de(t,n,e){return t?n.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(e==null?void 0:e.type)})<n.matched.length-1:!1}function ce(t,n){const e=t(n);return e.length===1?l(e[0]):l(Q,void 0,e)}const fe=f({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,n){return()=>l(g[t.name],t.layoutProps,n.slots)}}),ye={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},me=f({name:"NuxtLayout",inheritAttrs:!1,props:ye,setup(t,n){const e=T(),u=R(L),a=u===q()?Y():u,r=Z(()=>{let s=B(t.name)??a.meta.layout??"default";return s&&!(s in g)&&t.fallback&&(s=B(t.fallback)),s}),i=w();n.expose({layoutRef:i});const c=e.deferHydration();if(e.isHydrating){const s=e.hooks.hookOnce("app:error",c);b().beforeEach(s)}return()=>{const s=r.value&&r.value in g,d=a.meta.layoutTransition??ee;return E(s&&d,{default:()=>l(I,{suspensible:!0,onResolve:()=>{F(c)}},{default:()=>l(pe,{layoutProps:te(n.attrs,{ref:i}),key:r.value||void 0,name:r.value,shouldProvide:!t.name,hasTransition:!!d},n.slots)})}).default()}}}),pe=f({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,n){const e=t.name;return t.shouldProvide&&S(C,{isCurrent:u=>e===(u.meta.layout??"default")}),()=>{var u,a;return!e||typeof e=="string"&&!(e in g)?(a=(u=n.slots).default)==null?void 0:a.call(u):l(fe,{key:e,layoutProps:t.layoutProps,name:e},n.slots)}}}),ge={__name:"[...slug]",setup(t){return q().path,(e,u)=>{const a=ue,r=me;return ae(),ne(r,{name:"error"},{default:oe(()=>[re(a)]),_:1})}}};ge.__docgenInfo={exportName:"default",displayName:"[...slug]",description:"",tags:{},sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/pages/[...slug].vue"]};export{ge as default};
