import{_ as K}from"./CJI0kKuf.js";import{_ as v,c as i,o as n,F as m,b as l,E as V,t as y,r as q,e as p,a as b,n as g,d as F,p as z,m as G,S as k,T as x,aa as w,ab as J,u as Q}from"./DhzwT3aH.js";import{F as W}from"./lGjrhG3j.js";import{U as S}from"./BsquCIDb.js";import{_ as X}from"./DZoQpUVV.js";const N={tagName:"form-checkbox",computed:{otherId(){return`${this.idValue}_checkbox`},required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.checkbox.id}},methods:{handleChange(e){const t=e.currentTarget.value;this.$emit(V.FORM_FIELD_UPDATED,{value:t,id:this.id})}},props:{checkbox:Object,group:String,id:String}},Y={class:"form__checkbox-control custom-control custom-checkbox mb-1 vue-component"},Z=["data-form-group","required","name","id"],$=["for"],ee=["name","id","placeholder","data-form-group"],te=["name","id","data-form-group","required"],ae=["for","innerHTML"];function re(e,r,t,o,f,a){var d,u,c;return n(),i("div",Y,[(d=t.checkbox)!=null&&d.placeholder?(n(),i(m,{key:0},[l("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox","data-form-group":t.group,required:a.required,name:a.otherId,id:a.otherId,onChange:r[0]||(r[0]=(...s)=>a.handleChange&&a.handleChange(...s))},null,40,Z),l("label",{class:"form__checkbox-label custom-control-label",for:a.otherId},null,8,$),l("input",{class:"form__input form-control form-control-sm",type:"text",name:a.idValue,id:a.idValue,placeholder:(u=t.checkbox)==null?void 0:u.placeholder,"data-form-group":t.group},null,8,ee)],64)):(n(),i(m,{key:1},[l("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox",name:a.idValue,id:a.idValue,"data-form-group":t.group,required:a.required,onChange:r[1]||(r[1]=(...s)=>a.handleChange&&a.handleChange(...s))},null,40,te),l("label",{class:"form__checkbox-label custom-control-label",for:a.idValue,innerHTML:(c=t.checkbox)==null?void 0:c.label},null,8,ae)],64))])}const R=v(N,[["render",re]]);N.__docgenInfo={exportName:"default",displayName:"form-checkbox",description:"",tags:{},props:[{name:"checkbox",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkbox.vue"]};const M={tagName:"form-checkboxes",computed:{required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null},groupId(){return this.field.id}},props:{field:Object,id:{default:null}}},ne=["data-msg"];function ie(e,r,t,o,f,a){var u,c;const d=R;return n(),i(m,null,[l("label",{class:"form__label input-label","data-msg":a.message},y((u=t.field)==null?void 0:u.label),9,ne),(n(!0),i(m,null,q((c=t.field)==null?void 0:c.checkboxes,s=>(n(),p(d,{checkbox:s,group:a.groupId,id:t.field.id+s.id},null,8,["checkbox","group","id"]))),256))],64)}const le=v(M,[["render",ie]]);M.__docgenInfo={exportName:"default",displayName:"form-checkboxes",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkboxes.vue"]};const D={tagName:"form-radio",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.radio.id}},props:{radio:Object,group:String,id:String,name:String},methods:{changed(e){this.$emit("action-changed",e.changeAction||null)}}},oe={class:"form__radio-control mb-1 vue-component"},se=["data-form-group","required","name","id"],de=["for"],ue=["name","id","placeholder","data-form-group"],ce=["name","id","data-form-group","required"],me=["for","innerHTML"];function he(e,r,t,o,f,a){var d,u,c;return n(),i("div",oe,[(d=t.radio)!=null&&d.placeholder?(n(),i(m,{key:0},[l("input",{class:"form__radio",type:"radio","data-form-group":t.group,required:a.required,name:a.otherId,id:a.otherId},null,8,se),l("label",{class:"form__radio-label",for:a.otherId},null,8,de),l("input",{class:"form__input form-control form-control-sm",type:"text",name:t.name,id:a.idValue,placeholder:(u=t.radio)==null?void 0:u.placeholder,"data-form-group":t.group},null,8,ue)],64)):(n(),i(m,{key:1},[l("input",{class:"form__radio",type:"radio",name:t.name,id:a.idValue,"data-form-group":t.group,required:a.required,onChange:r[0]||(r[0]=s=>a.changed(t.radio))},null,40,ce),l("label",{class:"form__radio-label",for:a.idValue,innerHTML:(c=t.radio)==null?void 0:c.label},null,8,me)],64))])}const O=v(D,[["render",he]]);D.__docgenInfo={exportName:"default",displayName:"form-radio",description:"",tags:{},props:[{name:"radio",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}},{name:"name",type:{name:"string"}}],events:[{name:"action-changed",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radio.vue"]};const U={tagName:"form-radios",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null}},props:{field:Object,id:{default:null}}},fe=["data-msg"],_e={class:"d-flex flex-wrap"};function ge(e,r,t,o,f,a){var u,c;const d=O;return n(),i(m,null,[l("label",{class:"form__label input-label","data-msg":a.message},y((u=t.field)==null?void 0:u.label),9,fe),l("div",_e,[(n(!0),i(m,null,q((c=t.field)==null?void 0:c.radios,s=>(n(),p(d,{class:"pr-10",radio:s,group:t.id,name:t.id,id:t.field.id+s.id,onActionChanged:r[0]||(r[0]=_=>e.$emit("action-changed",_))},null,8,["radio","group","name","id"]))),256))])],64)}const pe=v(U,[["render",ge]]);U.__docgenInfo={exportName:"default",displayName:"form-radios",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radios.vue"]};const B={tagName:"form-select",computed:{required(){var e;return(e=this.field)!=null&&e.required?"required":null}},props:{options:Array,field:Object,id:String}},be=["for"],ye=["name","required"],xe={value:""},ve=["value"];function ke(e,r,t,o,f,a){return n(),i(m,null,[l("label",{class:"input-label",for:t.id},y(t.field.label),9,be),l("select",{class:"form-control custom-select text-muted",name:t.id,required:a.required},[l("option",xe,y(t.field.placeholder),1),(n(!0),i(m,null,q(t.options,d=>(n(),i("option",{value:d.value},y(d.text),9,ve))),256))],8,ye)],64)}const qe=v(B,[["render",ke]]);B.__docgenInfo={exportName:"default",displayName:"form-select",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-select.vue"]};const H={tagName:"form-fields",data(){return{edited:!1,userValue:null}},computed:{classList(){return["form-field js-form-message form-group",`${this.field.type==="hidden"?"d-none":""}`,this.groupClass,this.hasAnimation?"utility-animation utility-animation--small-offset fade-in-bottom":"",`${this.field.showIn?"d-none form-field--show-in "+this.showInClasses:""}`,"vue-component"]},showInClasses(){var e,r;return(r=(e=this.field)==null?void 0:e.showIn)==null?void 0:r.map(t=>"show-in-"+t).join(" ")},groupClass(){return this.field.type==="checkbox"?"mb-3":this.field.type==="file"?"mb-8":""},errorId(){return`${this.id}-error`},readonly(){return this.field.readonly?"readonly":null},required(){return this.field.required?"required":null},placeholder(){return this.field.placeholder?this.field.placeholder:null},value(){return this.edited?this.userValue:this.replaceValue&&this.field.value==="#form-field-replace-value#"?this.replaceValue:this.field.value?this.field.value:null}},mounted(){this.$refs.root&&S.init([this.$refs.root]);const e=this.$parent;if(!e)return;const r=e.$el;r&&r.addEventListener("reset",this.handleReset)},methods:{getRequiredMsg(e){return e.requiredMsg?e.requiredMsg:""},handleChange(e){const t=e.currentTarget.value;this.edited=!0,this.userValue=t,this.$emit(V.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleChangeTextarea(e){const t=e.currentTarget.value;this.$emit(V.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleReset(){this.edited=!1,this.userValue=null},handleFormFieldUpdate(e){this.$emit(V.FORM_FIELD_UPDATED,e)}},props:{options:Array,field:Object,id:{default:null},replaceValue:{default:null},hasAnimation:{default:null},hasError:Boolean}},Ve=["for"],Ce=["id","name","placeholder","required","readonly","data-msg"],Fe=["name","value"],we=["for"],Ae=["type","id","name","data-msg","value","placeholder","required","readonly"],Te=["id"];function Ie(e,r,t,o,f,a){var A,T,I,j,L,E;const d=R,u=le,c=O,s=pe,_=W,C=qe;return t.field.id!=="_gotcha"?(n(),i("div",{key:0,class:g(a.classList),"data-utility-animation-step":"1",ref:"root"},[t.field.type==="textarea"?(n(),i(m,{key:0},[l("label",{class:"input-label",for:t.id},y(t.field.label),9,Ve),l("textarea",{class:"form-control form-textarea",onChange:r[0]||(r[0]=(...h)=>a.handleChangeTextarea&&a.handleChangeTextarea(...h)),onKeyup:r[1]||(r[1]=(...h)=>a.handleChangeTextarea&&a.handleChangeTextarea(...h)),id:t.id,name:t.id,rows:"4",placeholder:a.placeholder,required:a.required,readonly:a.readonly,"data-msg":a.getRequiredMsg(t.field)},null,40,Ce)],64)):t.field.type==="checkbox"?(n(),p(d,{key:1,checkbox:t.field,id:t.id,onFormFieldUpdated:r[2]||(r[2]=h=>a.handleFormFieldUpdate(h))},null,8,["checkbox","id"])):t.field.type==="hidden"?(n(),i("input",{key:2,type:"hidden",name:t.id,value:a.value},null,8,Fe)):t.field.checkboxes?(n(),p(u,{key:3,field:t.field,id:t.id},null,8,["field","id"])):t.field.type==="radio"?(n(),p(c,{key:4,radio:t.field,id:t.id},null,8,["radio","id"])):t.field.radios?(n(),p(s,{key:5,field:t.field,id:t.id,onActionChanged:r[3]||(r[3]=h=>e.$emit("action-changed",h))},null,8,["field","id"])):t.field.type==="file"?(n(),p(_,{key:6,description:(A=t.field.formAttachments)==null?void 0:A.description,text:(T=t.field.formAttachments)==null?void 0:T.text,extensions:(I=t.field.formAttachments)==null?void 0:I.extensions,maxSize:(j=t.field.formAttachments)==null?void 0:j.maxSize,id:(L=t.field.formAttachments)==null?void 0:L.id,required:(E=t.field.formAttachments)==null?void 0:E.required,"required-msg":a.getRequiredMsg(t.field.formAttachments)},null,8,["description","text","extensions","maxSize","id","required","required-msg"])):t.field.type==="select"?(n(),p(C,{key:7,field:t.field,options:t.options,id:t.id},null,8,["field","options","id"])):t.field.type?(n(),i(m,{key:8},[l("label",{class:"input-label",for:t.id},y(t.field.label),9,we),l("input",{ref:"input",onChange:r[4]||(r[4]=(...h)=>a.handleChange&&a.handleChange(...h)),onKeyup:r[5]||(r[5]=(...h)=>a.handleChange&&a.handleChange(...h)),type:t.field.type,id:t.id,name:t.id,class:"form-control","data-msg":a.getRequiredMsg(t.field),value:a.value,placeholder:a.placeholder,required:a.required,readonly:a.readonly},null,40,Ae)],64)):b("",!0),t.hasError?(n(),i("div",{key:9,id:a.errorId,class:"invalid-feedback"},y(a.getRequiredMsg(t.field)),9,Te)):b("",!0)],2)):b("",!0)}const je=v(H,[["render",Ie]]);H.__docgenInfo={exportName:"default",displayName:"form-fields",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasError",type:{name:"boolean"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-fields.vue"]};const P={tagName:"formular",data(){return{originalAction:"",formAction:"",formInstance:null,novalidateValue:null,errors:[],siteKey:null}},setup(){return{config:Q()}},computed:{classList(){var e;return["form",`${x.isTrue(this.light)===!0?"is-light":""}`,`${x.isTrue(this.ajax)===!0?"form--ajax":""}`,`${x.isTrue(this.container)===!0?"container":""}`,`${x.isTrue(this.customValidation)===!0?"form--custom-validation":""}`,((e=this.form)==null?void 0:e.noCustomSubmit)===!0?w.noCustomSubmitClass:"","vue-component"]},reCaptchaField(){var e;return(e=this.formInstance)==null?void 0:e.reCaptchaField},novalidate(){return this.novalidateValue},hasAnimationValue(){return x.isTrue(this.hasAnimation)},rowClassList(){return["form__row",`${this.container?"row":""}`]},wrapperClassList(){return[`${this.container?"col-md-11 col-lg-10":""}`]},headlineClassList(){return["container headline-row",`${this.space?this.space:"space-top-2"}`,this.hasAnimationValue?"utility-animation fade-in-bottom":""]},sublineClassList(){return["text-center",`${this.form.sublineClasses?this.form.sublineClasses:""}`]},formClassList(){return["form__submit mt-5",`${this.positionValue}`]},positionValue(){return this.form.ctaPosition?this.form.ctaPosition:x.isTrue(this.uncentered)?"":"justify-content-end"},method(){return this.form.method?this.form.method:"post"},preparedBlocks(){const e=[];let r=0,t=[];return this.form.fields.forEach(o=>{if(this.useTranslation&&(o.label&&(o.label=this.$t(o.label)),o.requiredMsg&&(o.requiredMsg=this.$t(o.requiredMsg))),o.rowStart||o.rowEnd)o.rowStart?(e[r]=t,t.push(o),o.rowEnd&&(t=[],r++)):o.rowEnd&&(t.push(o),t=[],r++);else{if(t.push(o),e[r])return;e[r]=t,t=[],r++}}),e}},mounted(){var e;this.originalAction=this.formAction=(e=this.form)==null?void 0:e.action,this.formInstance=new w(this.$refs.root,null,this.validate.bind(this),this.hasRecaptcha,this.siteKey),this.novalidateValue="novalidate",this.$refs.headline&&S.init([this.$refs.headline])},created(){this.hasRecaptcha&&this.loadRecaptchaScript()},methods:{loadRecaptchaScript(){var e,r;this.siteKey=(r=(e=this.config)==null?void 0:e.public)==null?void 0:r.recaptchaSiteKey,this.siteKey&&J({script:[{src:`https://www.google.com/recaptcha/api.js?render=${this.siteKey}`,async:!0,defer:!0}]})},getTranslatedText(e){return this.useTranslation?this.$t(e):e},hasError(e){return this.errors[e.id]},getOptions(e){return e.options?typeof e.options=="string"?(console.error("Invalid options format for field"+e.id),null):typeof e.options=="object"&&e.options.list?e.options.list:e.options:null},getBlockClassList(e){return["row mx-n3",`${e!=null&&e.rowClass?e.rowClass:""}`]},getFieldClassList(e){return["px-3",`${e.col?"col-md-"+e.col:"col-md-12"}`]},getId(e){const r=(e==null?void 0:e.radios)||(e==null?void 0:e.checkboxes),t=r?r[0].id:e==null?void 0:e.id;return x.isTrue(this.hasUuid)?w.getId(t):t},updateAction(e){e?this.formAction=e:this.formAction=this.originalAction},handleSubmit(e){if(!this.validate())e.preventDefault();else{if(this.formInstance.hasSubmitHandling)return;e.preventDefault(),this.formInstance.handleRecaptcha().then(()=>{const r=this.$refs.form;if(!r)return console.debug("Form reference missing");r.submit()})}},handleFormFieldUpdate(e){if(!e.id)return;const r=document.getElementById(e.id);r&&this.validateField(r)},validateField(e){const r=e.value,t=e.getAttribute("type"),o=e.hasAttribute("required");if(this.removeFieldError(e),t==="checkbox"){const f=e.checked;if(o&&!f)return this.addFieldError(e),!1}else{if(o&&!r)return this.addFieldError(e),!1;if(t==="email"&&!(a=>/\S+@\S+\.\S+/.test(a))(r))return this.addFieldError(e),!1}return this.addFieldValid(e),!0},addFieldValid(e){e.classList.add(k.VALID)},removeFieldError(e){delete this.errors[e.id],e.classList.remove(k.ERROR)},addFieldError(e){this.errors[e.id]=!0,e.classList.remove(k.VALID),e.classList.add(k.ERROR)},validate(){const e=this.$refs.root.querySelectorAll(`.form-field:not(.${k.HIDDEN}) .form-control[required],
        .form-field:not(.${k.HIDDEN}) .form__checkbox[required]`);let r=!0;for(const t of e)this.validateField(t)||(r=!1);return r}},props:{form:Object,light:{default:null},analytics:{default:null},space:String,container:{default:null},ajax:{default:null},uncentered:{default:null},replaceValue:{default:null},customValidation:{default:null},options:Object,hasUuid:{default:null},hasAnimation:{default:null},useTranslation:{type:Boolean,default:!1},hasRecaptcha:{type:Boolean,default:!0}}},Le={class:"row"},Ee={class:"col-sm-12"},Se=["innerHTML"],Ne=["method","action","novalidate"],Re={key:0,class:"form__recaptcha-infos"};function Me(e,r,t,o,f,a){const d=K,u=je,c=X;return n(),i("div",{class:g(a.classList),ref:"root"},[l("div",{class:g(a.rowClassList)},[t.form?(n(),i("div",{key:0,class:g(a.wrapperClassList)},[t.form.headline?(n(),i("div",{key:0,class:g(a.headlineClassList),"data-utility-animation-step":"1",ref:"headline"},[l("div",Le,[l("div",Ee,[F(d,{text:t.form.headline,level:t.form.level,id:t.form.id,classes:"text-center"},null,8,["text","level","id"]),l("p",{class:g(a.sublineClassList),innerHTML:t.form.subline},null,10,Se)])])],2)):b("",!0),l("form",{class:"form__form mt-6",method:a.method,action:f.formAction,novalidate:a.novalidate,onSubmit:r[1]||(r[1]=(...s)=>a.handleSubmit&&a.handleSubmit(...s)),ref:"form"},[(n(!0),i(m,null,q(a.preparedBlocks,s=>(n(),i(m,null,[s.length>0?(n(),i("div",{key:0,class:g(a.getBlockClassList(s[0]))},[(n(!0),i(m,null,q(s,_=>(n(),i("div",{class:g(a.getFieldClassList(_))},[F(u,{field:_,options:a.getOptions(_),"replace-value":t.replaceValue,id:a.getId(_),"has-animation":a.hasAnimationValue,onActionChanged:a.updateAction,"has-error":a.hasError(_),onFormFieldUpdated:r[0]||(r[0]=C=>a.handleFormFieldUpdate(C))},null,8,["field","options","replace-value","id","has-animation","onActionChanged","has-error"])],2))),256))],2)):b("",!0)],64))),256)),t.hasRecaptcha?(n(),i("div",Re,[...r[2]||(r[2]=[z('<span class="form__recaptcha-copy">This site is protected by reCAPTCHA and the Google </span><a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a><span class="form__recaptcha-copy"> and </span><a href="https://policies.google.com/terms" target="_blank">Terms of Service</a><span class="form__recaptcha-copy"> apply.</span>',5)])])):b("",!0),l("div",{class:g(a.formClassList)},[F(c,{text:a.getTranslatedText(t.form.ctaText),type:"submit",button:!0,skin:t.form.cta.skin,width:t.form.cta.width,analytics:t.analytics},null,8,["text","skin","width","analytics"])],2),r[3]||(r[3]=l("input",{type:"text",class:"form__super-field",name:"_gotcha"},null,-1)),a.reCaptchaField?(n(),i("input",G({key:1,name:"g-recaptcha-response",type:"hidden"},a.reCaptchaField),null,16)):b("",!0)],40,Ne)],2)):b("",!0)],2)],2)}const Pe=v(P,[["render",Me]]);P.__docgenInfo={exportName:"default",displayName:"formular",description:"",tags:{},props:[{name:"form",type:{name:"object"}},{name:"light",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"analytics",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"space",type:{name:"string"}},{name:"container",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"ajax",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"uncentered",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"customValidation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"options",type:{name:"object"}},{name:"hasUuid",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"useTranslation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasRecaptcha",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/formular.vue"]};export{Pe as F};
