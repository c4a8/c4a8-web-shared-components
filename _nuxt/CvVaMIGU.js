import{u as i,E as T,x as g,y as x,a3 as V,c as E,o as P,b as h,f as H,n as w,p as $}from"./B3N1L4ua.js";const S={__name:"sticky-block",props:{stickyOffsetTop:{type:Number,default:100},stickyOffsetBottom:{type:Number,default:20},breakpoint:{type:String,default:null},class:{type:[String,Object,Array],default:""},isAtEnd:{type:Boolean,default:!1},hasPadding:{type:Boolean,default:!0},endPoint:{type:Number,default:null}},emits:["update:isAtEnd","update:endPoint","update:contentHeight"],setup(r,{emit:p}){const e=r,f=p,t=i(null),n=i(null),o=i(0),a=i(0),c=i(!1),s=i({position:"",top:"",bottom:"",left:"",width:""}),_=T(()=>e.class),B={xs:0,sm:576,md:768,lg:992,xl:1280},O=(l=window.scrollY)=>e.stickyOffsetTop+(a.value-l),u=()=>{if(!n.value||!t.value)return;const l=window.scrollY,y=t.value.getBoundingClientRect().top+l,A=t.value.offsetWidth,k=t.value.getBoundingClientRect().left,v=n.value.offsetHeight;if(f("update:contentHeight",v),c.value=e.breakpoint?window.innerWidth<=B[e.breakpoint]:!1,c.value){s.value={position:"",top:"",bottom:"",left:"",width:""},t.value.style.height="";return}const m=l>=y-e.stickyOffsetTop,d=s.value.position,L=s.value.top,N=s.value.left;if(d===""&&m||d==="fixed"&&!m||d==="fixed"&&e.isAtEnd||d==="fixed"&&N!==`${k}px`||d==="fixed"&&!e.isAtEnd&&L!==`${e.stickyOffsetTop}px`)if(m){let b=`${e.stickyOffsetTop}px`;e.isAtEnd?(a.value===null&&(o.value===0&&(o.value=e.endPoint),a.value=o.value),b=`${O()}px`):(a.value=null,o.value=l),s.value={position:"fixed",left:`${k}px`,width:`${A}px`,top:b},t.value.style.height=`${v}px`}else s.value={position:"",top:"",bottom:"",left:"",width:""},t.value.style.height=""};return g(()=>{window.addEventListener("resize",u),window.addEventListener("scroll",u),u()}),x(()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",u)}),V(()=>e.endPoint,()=>{u()}),(l,y)=>(P(),E("div",{class:w(["sticky-block",_.value])},[h("div",{ref_key:"startMarker",ref:t,class:"sticky-block__start"},[h("div",{ref_key:"stickyBlock",ref:n,class:w(["js-sticky-block pt-2",{"hs-kill-sticky":c.value,"pl-xl-2":r.hasPadding}]),style:H(s.value)},[$(l.$slots,"default")],6)],512)],2))}};S.__docgenInfo={exportName:"default",displayName:"sticky-block",description:"",tags:{},props:[{name:"stickyOffsetTop",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"stickyOffsetBottom",type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"breakpoint",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"class",type:{name:"string|object|array"},defaultValue:{func:!1,value:"''"}},{name:"isAtEnd",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasPadding",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"endPoint",type:{name:"number"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:isAtEnd"},{name:"update:endPoint"},{name:"update:contentHeight"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/sticky-block.vue"]};const z={__name:"sticky-block-end",props:{stickyOffsetTop:{type:Number,default:100},stickyOffsetBottom:{type:Number,default:20},contentHeight:{type:Number,default:0}},emits:["update:isAtEnd","update:endPoint"],setup(r,{emit:p}){const e=r,f=p,t=i(null),n=()=>{if(!t.value)return;const o=window.scrollY,a=t.value.getBoundingClientRect().top+o,c=o>=a-e.contentHeight-e.stickyOffsetBottom,s=a-e.contentHeight-e.stickyOffsetBottom;f("update:isAtEnd",c),f("update:endPoint",s)};return g(()=>{window.addEventListener("scroll",n),window.addEventListener("resize",n),n()}),x(()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}),(o,a)=>(P(),E("div",{ref_key:"endMarker",ref:t,class:"sticky-block-end"},null,512))}};z.__docgenInfo={exportName:"default",displayName:"sticky-block-end",description:"",tags:{},props:[{name:"stickyOffsetTop",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"stickyOffsetBottom",type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"contentHeight",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"update:isAtEnd"},{name:"update:endPoint"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/sticky-block-end.vue"]};export{S as _,z as a};
