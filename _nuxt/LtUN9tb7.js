var b=Object.defineProperty;var k=(r,t,e)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var g=(r,t,e)=>k(r,typeof t!="symbol"?t+"":t,e);import{_ as x}from"./DzWJKHKb.js";import{_ as T,c as p,b as l,d as A,a as P,t as E,n as I,au as M,E as D,T as f,o as _}from"./mL7gJy-Z.js";import{A as u}from"./CSwz05UH.js";var m;let B=(m=class extends M{constructor(t,e){var s,n;super(t,e),this.root=t,this.container=t.querySelector(".tag-cloud__container"),this.itemsContainer=t.querySelector(".tag-cloud__items"),this.itemLinkClass="tag-cloud__item-link",this.slider=t.querySelector(".tag-cloud__slider"),this.items=(s=this.itemsContainer)!=null&&s.dataset.items?JSON.parse((n=this.itemsContainer)==null?void 0:n.dataset.items):[],this.maxCoordinate=40,this.itemsPerOuterRow=3,this.minCoordinate=10,this.minBlur=2,this.maxBlur=10,this.maxDelay=70,this.minDelay=550,this.maxWeight=3,this.isMouseOut=!0,this.animate=new u,this.delay=1e3,this.velocity=30,this.startPosition=0,this.endPosition=0,this.gotDragged=!1,this.firstTouch=!0,this.temporaryTouchPosition=0,this.temporaryDiff=0,this.percentageInViewport=30,this.init()}init(){this.weightingElements(),this.addCorners(),this.appendItems(),this.hasScrollAnimation()&&(this.setDuration(),this.addScrollAnimation()),document.dispatchEvent(new CustomEvent(D.DIMENSIONS_CHANGED,{detail:this.root})),this.bindEvents()}hasScrollAnimation(){return f.isBelowBreakpoint("md")&&f.isInViewportPercent(this.root,this.percentageInViewport)}bindEvents(){this.itemsContainer.querySelectorAll(`.${this.itemLinkClass}`).forEach(t=>{t.addEventListener("mouseover",e=>{this.handleMouseOver(e==null?void 0:e.currentTarget)})}),this.itemsContainer.querySelectorAll(`.${this.itemLinkClass}`).forEach(t=>{t.addEventListener("mouseout",e=>{this.handleMouseOut(e==null?void 0:e.currentTarget)})}),window.addEventListener("resize",()=>{this.handleScroll(),this.endPosition=this.slider.scrollWidth-this.slider.clientWidth,this.setDuration()}),document.addEventListener("scroll",()=>{this.handleScroll()}),this.slider.addEventListener("touchstart",()=>{this.hasScrollAnimation()&&(clearTimeout(this.timeout),this.handleTouchStart())}),this.slider.addEventListener("touchend",()=>{this.hasScrollAnimation()&&(this.timeout=setTimeout(()=>{this.addScrollAnimation()},this.delay))})}stopScrollAnimation(){this.animate.pause(),this.isInScrollAnimation=!1}handleTouchStart(){this.stopScrollAnimation(),this.gotDragged=!0}handleTouchEnd(){const t=this.slider.scrollLeft,e=Math.abs(this.endPosition-t),s=Math.abs(this.startPosition-t),n=u.easing.linear,i=e<s,o=t,a=i?this.startPosition:this.endPosition,h=!!i,c=Math.abs(o-a)/Math.abs(this.startPosition-this.endPosition),v=this.duration*c;this.moveTo(o,a,v,n,h)}handleMouseOut(t){window.cancelAnimationFrame(this.animate.requestId),t.style.setProperty("filter",null)}handleMouseOver(t){const e=window.getComputedStyle(t),s=e==null?void 0:e.filter.replace("blur(","").replace("px)","");this.animate.start({duration:900,timing:u.easing.easeInOutCubic,draw:i=>{const o=s-s*i;t.style.setProperty("filter",`blur(${o}px)`,"important")}})}handleScroll(){if(this.hasScrollAnimation()){if(this.isInScrollAnimation)return;this.addScrollAnimation()}else this.stopScrollAnimation()}addScrollAnimation(){this.isInScrollAnimation=!0,this.endPosition=this.slider.scrollWidth-this.slider.clientWidth,this.handleTouchEnd()}setDuration(){const t=this.slider.clientWidth;this.duration=this.velocity*t}moveTo(t,e,s,n,i){const o=Math.abs(e-t);this.animate.start({duration:s,timing:n,draw:a=>{const h=i?t-o*a:t+o*a,c=i?o*(1-a):o*a;this.slider.scrollLeft=this.gotDragged?h:c,a===1&&(this.gotDragged=!1,this.moveTo(this.startPosition,this.endPosition,s,n,!i))}})}weightingElements(){for(let e=0;e<this.items.length;e++){const s=this.items[e],n=Math.ceil(s.title.length/8);this.items[e].weighting=n>this.maxWeight?this.maxWeight:n}}getCornerPosition(){let t=0,e=0,s=0,n=0;for(let i=0;i<this.items.length;i++){const o=this.items[i];t+=o.weighting,!(t>this.itemsPerOuterRow+1)&&(e=i+1)}for(let i=this.items.length-1;i>0;i--){const o=this.items[i];s+=o.weighting,!(s>3)&&(n=i+1)}return{secondIndex:e,thirdIndex:n}}addCorners(){const t={weighting:0};this.items.unshift(t),this.items.push(t);const e=this.getCornerPosition();this.items.splice(e.secondIndex,0,t),this.items.splice(e.thirdIndex,0,t)}getRandomCoordinate(){let s=this.getRandomNumberBetween(this.minCoordinate,this.maxCoordinate),n=s,i=Math.random()>.5?-1*s:s;return i<0&&(s=i+n/1.1),s/2}getRandomBlur(){return this.getRandomNumberBetween(this.minBlur,this.maxBlur)}getRandomStart(){return this.getRandomNumberBetween(this.minDelay,this.maxDelay)}getRandomNumberBetween(t,e){return Math.floor(Math.random()*(e-t+1))+t}appendItems(){for(let t=0;t<this.items.length;t++){const e=this.items[t],s=2,n=document.createElement("li");if(n.classList.add("tag-cloud__item"),n.setAttribute("data-weight",e.weighting),e.title){const i=document.createElement("a"),a=t%s===0?2:1;i.setAttribute("groupIdentifier",a),i.style.setProperty("--blurry-x1",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-x2",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-x3",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-y1",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-y2",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-y3",`${this.getRandomCoordinate()}px`),i.style.setProperty("--blurry-delay",`${this.getRandomStart()}ms`),i.style.setProperty("--blurry-blur",`${this.getRandomBlur()}px`),i.innerText=e.title,i.classList.add(this.itemLinkClass),n.appendChild(i)}this.itemsContainer.appendChild(n)}}},g(m,"rootSelector",".tag-cloud"),m);const S={tagName:"tag-cloud",props:{items:{type:Array,required:!0},level:{type:String,default:"h2"},headline:{type:String,required:!0},subline:{type:String,default:null},sticky:{type:Boolean,default:!1}},computed:{jsonItems(){return JSON.stringify(this.items)}},mounted(){this.$nextTick(()=>{this._tagCloudInstance=new B(this.$el,{})})},beforeUnmount(){this._tagCloudInstance&&typeof this._tagCloudInstance.stopScrollAnimation=="function"&&this._tagCloudInstance.stopScrollAnimation(),this._tagCloudInstance=null}},L={class:"tag-cloud__intro container"},R={class:"tag-cloud__row row"},N={class:"tag-cloud__header col"},O={key:0,class:"tag-cloud__subline w-lg-65"},W={class:"tag-cloud__container container-lg"},$={class:"tag-cloud__content row"},q={class:"tag-cloud__slider"},V={class:"tag-cloud__container"},z=["data-items"];function F(r,t,e,s,n,i){const o=x;return _(),p("div",{class:I(["tag-cloud",{"is-sticky-scroller":e.sticky}])},[l("div",L,[l("div",R,[l("div",N,[A(o,{level:e.level,text:e.headline,classes:"tag-cloud__headline h2-font-size"},null,8,["level","text"]),e.subline?(_(),p("div",O,E(e.subline),1)):P("",!0)])])]),l("div",W,[l("div",$,[l("div",q,[l("div",V,[l("ul",{class:"tag-cloud__items","data-items":i.jsonItems},null,8,z)])])])])],2)}const j=T(S,[["render",F]]);S.__docgenInfo={exportName:"default",displayName:"tag-cloud",description:"",tags:{},props:[{name:"items",type:{name:"array"},required:!0},{name:"level",type:{name:"string"},defaultValue:{func:!1,value:"'h2'"}},{name:"headline",type:{name:"string"},required:!0},{name:"subline",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"sticky",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/tag-cloud.vue"]};const Q={title:"Components/Tag Cloud",component:j,argTypes:{}},d={args:{headline:"Woran wir arbeiten",items:[{title:"Microsoft Teams",link:"#"},{title:"Azure",link:"#"},{title:"Microsoft Defender",link:"#"},{title:"Collaboration",link:"#"},{title:"Microsoft 365",link:"#"},{title:"100 % Cloud",link:"#"},{title:"Security",link:"#"},{title:"Modern Workplace",link:"#"},{title:"Cloud Security Operations Center",link:"#"},{title:"Azure Foundation",link:"#"},{title:"Managed Services",link:"#"}]}};var y,C,w;d.parameters={...d.parameters,docs:{...(y=d.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    headline: "Woran wir arbeiten",
    items: [{
      title: 'Microsoft Teams',
      link: '#'
    }, {
      title: 'Azure',
      link: '#'
    }, {
      title: 'Microsoft Defender',
      link: '#'
    }, {
      title: 'Collaboration',
      link: '#'
    }, {
      title: 'Microsoft 365',
      link: '#'
    }, {
      title: '100 % Cloud',
      link: '#'
    }, {
      title: 'Security',
      link: '#'
    }, {
      title: 'Modern Workplace',
      link: '#'
    }, {
      title: 'Cloud Security Operations Center',
      link: '#'
    }, {
      title: 'Azure Foundation',
      link: '#'
    }, {
      title: 'Managed Services',
      link: '#'
    }]
  }
}`,...(w=(C=d.parameters)==null?void 0:C.docs)==null?void 0:w.source}}};const X=["TagCloud"];export{d as TagCloud,X as __namedExportsOrder,Q as default};
