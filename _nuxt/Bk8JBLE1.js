import{_ as me}from"./9Rgwr9-Q.js";import{ab as he,ac as ge,a4 as Q,s as U,ad as pe,a2 as B,a6 as H,q as z,_ as j,c as p,o as g,F as w,b as y,V as O,t as A,r as L,e as I,a as S,n as V,ae as $,H as _e,af as ye,ag as be,I as ve,ah as G,N as Y,O as Z,ai as xe,aj as ke,a7 as we,E as J,ak as F,a0 as ee,X as Ce,J as qe,k as Ve,d as N,m as Ie,S as E,T,aa as P,u as Se}from"./CRl1A2Vc.js";import{F as Ae}from"./D-AiTs8Q.js";import{U as te}from"./Cm_JNIS2.js";import{_ as Te}from"./Kr142oQm.js";function je(e={}){const r=[];let t=-1;const a=(i=!1)=>({get(n,l,o){if(!i){const s=Reflect.get(n,l,o);if(typeof s<"u")return s;t++,r[t]=[]}return r[t].push({type:"get",key:l}),new Proxy(()=>{},a(!0))},apply(n,l,o){r[t].push({type:"apply",key:"",args:o})}});return{proxy:new Proxy(e||{},a()),stack:r}}function Ee(e){const r={get(t,a,i){const n=Reflect.get(t,a,i);return typeof n=="object"?new Proxy(n,r):n},apply(t,a,i){Reflect.apply(t,a,i)}};return new Proxy(e,r)}function Fe(e,r){r.forEach(t=>{let a=e,i=e;t.forEach(({type:n,key:l,args:o})=>{n==="get"?(i=a,a=a[l]):n==="apply"&&(a=a.call(i,...o))})})}function Le(e){return e.key||e.src||(typeof e.innerHTML=="string"?e.innerHTML:"")}const Re=["preconnect","dns-prefetch"];function Ne(e,r,t){var v,k,C;const a=typeof r=="string"?{src:r}:r,i=t||{},n=Le(a),l=(v=e._scripts)==null?void 0:v[n];if(l)return l.setupTriggerHandler(i.trigger),l;(k=i.beforeInit)==null||k.call(i);const o=c=>{u.status=c,e.hooks.callHook("script:updated",x)};he.forEach(c=>{const f=c,m=typeof a[f]=="function"?a[f].bind(i.eventContext):null;a[f]=b=>{o(c==="onload"?"loaded":c==="onerror"?"error":"loading"),m==null||m(b)}});const s={loaded:[],error:[]},d=new Set,h=(c,f,m)=>{if(!e.ssr){if(m!=null&&m.key){const b=`${m==null?void 0:m.key}:${m.key}`;if(d.has(b))return;d.add(b)}if(s[c]){const b=s[c].push(f);return()=>{var q;return(q=s[c])==null?void 0:q.splice(b-1,1)}}return f(u.instance),()=>{}}},_=new Promise(c=>{if(e.ssr)return;const f=b=>requestAnimationFrame(()=>c(b)),m=e.hooks.hook("script:updated",({script:b})=>{const q=b.status;if(b.id===n&&(q==="loaded"||q==="error")){if(q==="loaded")if(typeof i.use=="function"){const R=i.use();R&&f(R)}else f({});else q==="error"&&c(!1);m()}})}),u={_loadPromise:_,instance:!e.ssr&&((C=i==null?void 0:i.use)==null?void 0:C.call(i))||null,proxy:null,id:n,status:"awaitingLoad",remove(){var c,f,m;return(c=u._triggerAbortController)==null||c.abort(),u._triggerPromises=[],(f=u._warmupEl)==null||f.dispose(),u.entry?(u.entry.dispose(),u.entry=void 0,o("removed"),(m=e._scripts)==null||delete m[n],!0):!1},warmup(c){const{src:f}=a,m=!f.startsWith("/")||f.startsWith("//"),b=c&&Re.includes(c);let q=f;if(!c||b&&!m)return;if(b){const X=new URL(f);q=`${X.protocol}//${X.host}`}const R={href:q,rel:c,crossorigin:typeof a.crossorigin<"u"?a.crossorigin:m?"anonymous":void 0,referrerpolicy:typeof a.referrerpolicy<"u"?a.referrerpolicy:m?"no-referrer":void 0,fetchpriority:typeof a.fetchpriority<"u"?a.fetchpriority:"low",integrity:a.integrity,as:c==="preload"?"script":void 0};return u._warmupEl=e.push({link:[R]},{head:e,tagPriority:"high"}),u._warmupEl},load(c){var f;if((f=u._triggerAbortController)==null||f.abort(),u._triggerPromises=[],!u.entry){o("loading");const m={defer:!0,fetchpriority:"low"};a.src&&(a.src.startsWith("http")||a.src.startsWith("//"))&&(m.crossorigin="anonymous",m.referrerpolicy="no-referrer"),u.entry=e.push({script:[{...m,...a}]},i)}return c&&h("loaded",c),_},onLoaded(c,f){return h("loaded",c,f)},onError(c,f){return h("error",c,f)},setupTriggerHandler(c){if(u.status==="awaitingLoad")if((typeof c>"u"||c==="client")&&!e.ssr||c==="server")u.load();else if(c instanceof Promise){if(e.ssr)return;u._triggerAbortController||(u._triggerAbortController=new AbortController,u._triggerAbortPromise=new Promise(m=>{u._triggerAbortController.signal.addEventListener("abort",()=>{u._triggerAbortController=null,m()})})),u._triggerPromises=u._triggerPromises||[];const f=u._triggerPromises.push(Promise.race([c.then(m=>typeof m>"u"||m?u.load:void 0),u._triggerAbortPromise]).catch(()=>{}).then(m=>{m==null||m()}).finally(()=>{var m;(m=u._triggerPromises)==null||m.splice(f,1)}))}else typeof c=="function"&&c(u.load)},_cbs:s};_.then(c=>{var f,m;c!==!1?(u.instance=c,(f=s.loaded)==null||f.forEach(b=>b(c)),s.loaded=null):((m=s.error)==null||m.forEach(b=>b()),s.error=null)});const x={script:u};if(u.setupTriggerHandler(i.trigger),i.use){const{proxy:c,stack:f}=je(e.ssr?{}:i.use()||{});u.proxy=c,u.onLoaded(m=>{Fe(m,f),u.proxy=Ee(m)})}return!i.warmupStrategy&&(typeof i.trigger>"u"||i.trigger==="client")&&(i.warmupStrategy="preload"),i.warmupStrategy&&u.warmup(i.warmupStrategy),e._scripts=Object.assign(e._scripts||{},{[n]:u}),u}function Pe(e,r){if(!r)return;const t=(a,i)=>{if(!e._cbs[a])return i(e.instance),()=>{};let n=e._cbs[a].push(i);const l=()=>{var o;n&&((o=e._cbs[a])==null||o.splice(n-1,1),n=null)};return H(l),l};e.onLoaded=a=>t("loaded",a),e.onError=a=>t("error",a),H(()=>{var a;(a=e._triggerAbortController)==null||a.abort()})}function Oe(e,r){const t=typeof e=="string"?{src:e}:e,a=r||{},i=(a==null?void 0:a.head)||ge();a.head=i;const n=Q();if(a.eventContext=n,n&&typeof a.trigger>"u")a.trigger=U;else if(pe(a.trigger)){const o=a.trigger;let s;a.trigger=new Promise(d=>{s=B(o,h=>{h&&d(!0)},{immediate:!0}),H(()=>d(!1),!0)}).then(d=>(s==null||s(),d))}i._scriptStatusWatcher=i._scriptStatusWatcher||i.hooks.hook("script:updated",({script:o})=>{o._statusRef.value=o.status});const l=Ne(i,t,a);return l._statusRef=l._statusRef||z(l.status),Pe(l,n),new Proxy(l,{get(o,s,d){return Reflect.get(o,s==="status"?"_statusRef":s,d)}})}const re={tagName:"form-checkbox",computed:{otherId(){return`${this.idValue}_checkbox`},required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.checkbox.id}},methods:{handleChange(e){const t=e.currentTarget.value;this.$emit(O.FORM_FIELD_UPDATED,{value:t,id:this.id})}},props:{checkbox:Object,group:String,id:String}},Me={class:"form__checkbox-control custom-control custom-checkbox mb-1 vue-component"},De=["data-form-group","required","name","id"],He=["for"],Ue=["name","id","placeholder","data-form-group"],Be=["name","id","data-form-group","required"],We=["for","innerHTML"];function Ke(e,r,t,a,i,n){var l,o,s;return g(),p("div",Me,[(l=t.checkbox)!=null&&l.placeholder?(g(),p(w,{key:0},[y("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox","data-form-group":t.group,required:n.required,name:n.otherId,id:n.otherId,onChange:r[0]||(r[0]=(...d)=>n.handleChange&&n.handleChange(...d))},null,40,De),y("label",{class:"form__checkbox-label custom-control-label",for:n.otherId},null,8,He),y("input",{class:"form__input form-control form-control-sm",type:"text",name:n.idValue,id:n.idValue,placeholder:(o=t.checkbox)==null?void 0:o.placeholder,"data-form-group":t.group},null,8,Ue)],64)):(g(),p(w,{key:1},[y("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox",name:n.idValue,id:n.idValue,"data-form-group":t.group,required:n.required,onChange:r[1]||(r[1]=(...d)=>n.handleChange&&n.handleChange(...d))},null,40,Be),y("label",{class:"form__checkbox-label custom-control-label",for:n.idValue,innerHTML:(s=t.checkbox)==null?void 0:s.label},null,8,We)],64))])}const ne=j(re,[["render",Ke]]);re.__docgenInfo={exportName:"default",displayName:"form-checkbox",description:"",tags:{},props:[{name:"checkbox",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkbox.vue"]};const ae={tagName:"form-checkboxes",computed:{required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null},groupId(){return this.field.id}},props:{field:Object,id:{default:null}}},ze=["data-msg"];function Qe(e,r,t,a,i,n){var o,s;const l=ne;return g(),p(w,null,[y("label",{class:"form__label input-label","data-msg":n.message},A((o=t.field)==null?void 0:o.label),9,ze),(g(!0),p(w,null,L((s=t.field)==null?void 0:s.checkboxes,d=>(g(),I(l,{checkbox:d,group:n.groupId,id:t.field.id+d.id},null,8,["checkbox","group","id"]))),256))],64)}const Ge=j(ae,[["render",Qe]]);ae.__docgenInfo={exportName:"default",displayName:"form-checkboxes",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkboxes.vue"]};const ie={tagName:"form-radio",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.radio.id}},props:{radio:Object,group:String,id:String,name:String},methods:{changed(e){this.$emit("action-changed",e.changeAction||null)}}},Je={class:"form__radio-control mb-1 vue-component"},Xe=["data-form-group","required","name","id"],Ye=["for"],Ze=["name","id","placeholder","data-form-group"],$e=["name","id","data-form-group","required"],et=["for","innerHTML"];function tt(e,r,t,a,i,n){var l,o,s;return g(),p("div",Je,[(l=t.radio)!=null&&l.placeholder?(g(),p(w,{key:0},[y("input",{class:"form__radio",type:"radio","data-form-group":t.group,required:n.required,name:n.otherId,id:n.otherId},null,8,Xe),y("label",{class:"form__radio-label",for:n.otherId},null,8,Ye),y("input",{class:"form__input form-control form-control-sm",type:"text",name:t.name,id:n.idValue,placeholder:(o=t.radio)==null?void 0:o.placeholder,"data-form-group":t.group},null,8,Ze)],64)):(g(),p(w,{key:1},[y("input",{class:"form__radio",type:"radio",name:t.name,id:n.idValue,"data-form-group":t.group,required:n.required,onChange:r[0]||(r[0]=d=>n.changed(t.radio))},null,40,$e),y("label",{class:"form__radio-label",for:n.idValue,innerHTML:(s=t.radio)==null?void 0:s.label},null,8,et)],64))])}const se=j(ie,[["render",tt]]);ie.__docgenInfo={exportName:"default",displayName:"form-radio",description:"",tags:{},props:[{name:"radio",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}},{name:"name",type:{name:"string"}}],events:[{name:"action-changed",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radio.vue"]};const oe={tagName:"form-radios",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null}},props:{field:Object,id:{default:null}}},rt=["data-msg"],nt={class:"d-flex flex-wrap"};function at(e,r,t,a,i,n){var o,s;const l=se;return g(),p(w,null,[y("label",{class:"form__label input-label","data-msg":n.message},A((o=t.field)==null?void 0:o.label),9,rt),y("div",nt,[(g(!0),p(w,null,L((s=t.field)==null?void 0:s.radios,d=>(g(),I(l,{class:"pr-10",radio:d,group:t.id,name:t.id,id:t.field.id+d.id,onActionChanged:r[0]||(r[0]=h=>e.$emit("action-changed",h))},null,8,["radio","group","name","id"]))),256))])],64)}const it=j(oe,[["render",at]]);oe.__docgenInfo={exportName:"default",displayName:"form-radios",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radios.vue"]};const le={tagName:"form-select",computed:{required(){var e;return(e=this.field)!=null&&e.required?"required":null}},props:{options:Array,field:Object,id:String}},st=["for"],ot=["name","required"],lt={value:""},ut=["value"];function ct(e,r,t,a,i,n){return g(),p(w,null,[y("label",{class:"input-label",for:t.id},A(t.field.label),9,st),y("select",{class:"form-control custom-select text-muted",name:t.id,required:n.required},[y("option",lt,A(t.field.placeholder),1),(g(!0),p(w,null,L(t.options,l=>(g(),p("option",{value:l.value},A(l.text),9,ut))),256))],8,ot)],64)}const dt=j(le,[["render",ct]]);le.__docgenInfo={exportName:"default",displayName:"form-select",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-select.vue"]};const ue={tagName:"form-fields",data(){return{edited:!1,userValue:null}},computed:{classList(){return["form-field js-form-message form-group",`${this.field.type==="hidden"?"d-none":""}`,this.groupClass,this.hasAnimation?"utility-animation utility-animation--small-offset fade-in-bottom":"",`${this.field.showIn?"d-none form-field--show-in "+this.showInClasses:""}`,"vue-component"]},showInClasses(){var e,r;return(r=(e=this.field)==null?void 0:e.showIn)==null?void 0:r.map(t=>"show-in-"+t).join(" ")},groupClass(){return this.field.type==="checkbox"?"mb-3":this.field.type==="file"?"mb-8":""},errorId(){return`${this.id}-error`},readonly(){return this.field.readonly?"readonly":null},required(){return this.field.required?"required":null},placeholder(){return this.field.placeholder?this.field.placeholder:null},value(){return this.edited?this.userValue:this.replaceValue&&this.field.value==="#form-field-replace-value#"?this.replaceValue:this.field.value?this.field.value:null}},mounted(){this.$refs.root&&te.init([this.$refs.root]);const e=this.$parent;if(!e)return;const r=e.$el;r&&r.addEventListener("reset",this.handleReset)},methods:{getRequiredMsg(e){return e.requiredMsg?e.requiredMsg:""},handleChange(e){const t=e.currentTarget.value;this.edited=!0,this.userValue=t,this.$emit(O.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleChangeTextarea(e){const t=e.currentTarget.value;this.$emit(O.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleReset(){this.edited=!1,this.userValue=null},handleFormFieldUpdate(e){this.$emit(O.FORM_FIELD_UPDATED,e)}},props:{options:Array,field:Object,id:{default:null},replaceValue:{default:null},hasAnimation:{default:null},hasError:Boolean}},ft=["for"],mt=["id","name","placeholder","required","readonly","data-msg"],ht=["name","value"],gt=["for"],pt=["type","id","name","data-msg","value","placeholder","required","readonly"],_t=["id"];function yt(e,r,t,a,i,n){var u,x,v,k,C,c;const l=ne,o=Ge,s=se,d=it,h=Ae,_=dt;return t.field.id!=="_gotcha"?(g(),p("div",{key:0,class:V(n.classList),"data-utility-animation-step":"1",ref:"root"},[t.field.type==="textarea"?(g(),p(w,{key:0},[y("label",{class:"input-label",for:t.id},A(t.field.label),9,ft),y("textarea",{class:"form-control form-textarea",onChange:r[0]||(r[0]=(...f)=>n.handleChangeTextarea&&n.handleChangeTextarea(...f)),onKeyup:r[1]||(r[1]=(...f)=>n.handleChangeTextarea&&n.handleChangeTextarea(...f)),id:t.id,name:t.id,rows:"4",placeholder:n.placeholder,required:n.required,readonly:n.readonly,"data-msg":n.getRequiredMsg(t.field)},null,40,mt)],64)):t.field.type==="checkbox"?(g(),I(l,{key:1,checkbox:t.field,id:t.id,onFormFieldUpdated:r[2]||(r[2]=f=>n.handleFormFieldUpdate(f))},null,8,["checkbox","id"])):t.field.type==="hidden"?(g(),p("input",{key:2,type:"hidden",name:t.id,value:n.value},null,8,ht)):t.field.checkboxes?(g(),I(o,{key:3,field:t.field,id:t.id},null,8,["field","id"])):t.field.type==="radio"?(g(),I(s,{key:4,radio:t.field,id:t.id},null,8,["radio","id"])):t.field.radios?(g(),I(d,{key:5,field:t.field,id:t.id,onActionChanged:r[3]||(r[3]=f=>e.$emit("action-changed",f))},null,8,["field","id"])):t.field.type==="file"?(g(),I(h,{key:6,description:(u=t.field.formAttachments)==null?void 0:u.description,text:(x=t.field.formAttachments)==null?void 0:x.text,extensions:(v=t.field.formAttachments)==null?void 0:v.extensions,maxSize:(k=t.field.formAttachments)==null?void 0:k.maxSize,id:(C=t.field.formAttachments)==null?void 0:C.id,required:(c=t.field.formAttachments)==null?void 0:c.required,"required-msg":n.getRequiredMsg(t.field.formAttachments)},null,8,["description","text","extensions","maxSize","id","required","required-msg"])):t.field.type==="select"?(g(),I(_,{key:7,field:t.field,options:t.options,id:t.id},null,8,["field","options","id"])):t.field.type?(g(),p(w,{key:8},[y("label",{class:"input-label",for:t.id},A(t.field.label),9,gt),y("input",{ref:"input",onChange:r[4]||(r[4]=(...f)=>n.handleChange&&n.handleChange(...f)),onKeyup:r[5]||(r[5]=(...f)=>n.handleChange&&n.handleChange(...f)),type:t.field.type,id:t.id,name:t.id,class:"form-control","data-msg":n.getRequiredMsg(t.field),value:n.value,placeholder:n.placeholder,required:n.required,readonly:n.readonly},null,40,pt)],64)):S("",!0),t.hasError?(g(),p("div",{key:9,id:n.errorId,class:"invalid-feedback"},A(n.getRequiredMsg(t.field)),9,_t)):S("",!0)],2)):S("",!0)}const bt=j(ue,[["render",yt]]);ue.__docgenInfo={exportName:"default",displayName:"form-fields",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasError",type:{name:"boolean"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-fields.vue"]};function vt(){return G().public["nuxt-scripts"]}function xt(e){return e.key||e.src||(typeof e.innerHTML=="string"?e.innerHTML:"")}function kt(e,r){var s,d,h;e=typeof e=="string"?{src:e}:e,r=$(r,(s=vt())==null?void 0:s.defaultScriptOptions);const t=String(xt(e)),a=_e();if(r.head=r.head||ye(),!r.head)throw new Error("useScript() has been called without Nuxt context.");a.$scripts=a.$scripts||be({}),(d=a.$scripts)!=null&&d[t];const i=(h=r._validate)==null?void 0:h.call(r);(r.trigger==="onNuxtReady"||r.trigger==="client")&&(r.warmupStrategy||(r.warmupStrategy="preload"),r.trigger==="onNuxtReady"&&(r.trigger=ve));const n=Oe(e,r),l=n.remove;n.remove=()=>(a.$scripts[t]=void 0,l());const o=n.load;return n.load=async()=>i?Promise.reject(i):o(),a.$scripts[t]=n,n}Object.freeze(Object.assign(()=>{},{__mock__:!0}));function wt(e){return(G().public.scripts||{})[e]}function Ct(e,r,t){var u,x,v;const a=wt(e),i=Object.assign(t||{},typeof a=="object"?a:{}),n=r(i,{scriptInput:i.scriptInput});let l=n.scriptInput;const o=(u=i.scriptInput)==null?void 0:u.src,s=(x=n.scriptInput)==null?void 0:x.src;if(o&&s&&typeof s=="string"&&typeof o=="string"){const k=Y(s),C=Y(o),c=Z(k.search||""),f=Z(C.search||""),m={...c,...f},b=((v=C.href)==null?void 0:v.split("?")[0])||o;l={...n.scriptInput||{},src:xe(b,m)}}const d=$(l,i.scriptInput,{key:e}),h=Object.assign((i==null?void 0:i.scriptOptions)||{},n.scriptOptions||{}),_=h.beforeInit;return h.beforeInit=()=>{var k;_==null||_(),(k=n.clientInit)==null||k.call(n)},kt(d,h)}function qt(e){return Ct("cloudflareTurnstile",()=>({scriptInput:{src:"https://challenges.cloudflare.com/turnstile/v0/api.js"},scriptOptions:{use:()=>window.turnstile}}),e)}function W(e){return we()?(H(e),!0):!1}const Vt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const It=e=>e!=null,St=Object.prototype.toString,At=e=>St.call(e)==="[object Object]",K=()=>{};function M(e){return Array.isArray(e)?e:[e]}function Tt(e){return Q()}function jt(e,r=!0,t){Tt()?U(e,t):r?e():ke(e)}function Et(e,r,t){return B(e,r,{...t,immediate:!0})}const ce=Vt?window:void 0;function D(e){var r;const t=F(e);return(r=t==null?void 0:t.$el)!=null?r:t}function Ft(...e){const r=[],t=()=>{r.forEach(o=>o()),r.length=0},a=(o,s,d,h)=>(o.addEventListener(s,d,h),()=>o.removeEventListener(s,d,h)),i=J(()=>{const o=M(F(e[0])).filter(s=>s!=null);return o.every(s=>typeof s!="string")?o:void 0}),n=Et(()=>{var o,s;return[(s=(o=i.value)==null?void 0:o.map(d=>D(d)))!=null?s:[ce].filter(d=>d!=null),M(F(i.value?e[1]:e[0])),M(Ce(i.value?e[2]:e[1])),F(i.value?e[3]:e[2])]},([o,s,d,h])=>{if(t(),!(o!=null&&o.length)||!(s!=null&&s.length)||!(d!=null&&d.length))return;const _=At(h)?{...h}:h;r.push(...o.flatMap(u=>s.flatMap(x=>d.map(v=>a(u,x,v,_)))))},{flush:"post"}),l=()=>{n(),t()};return W(t),l}function Lt(){const e=ee(!1),r=Q();return r&&U(()=>{e.value=!0},r),e}function Rt(e){const r=Lt();return J(()=>(r.value,!!e()))}function Nt(e,r,t={}){const{root:a,rootMargin:i="0px",threshold:n=0,window:l=ce,immediate:o=!0}=t,s=Rt(()=>l&&"IntersectionObserver"in l),d=J(()=>{const v=F(e);return M(v).map(D).filter(It)});let h=K;const _=ee(o),u=s.value?B(()=>[d.value,D(a),_.value],([v,k])=>{if(h(),!_.value||!v.length)return;const C=new IntersectionObserver(r,{root:D(k),rootMargin:i,threshold:n});v.forEach(c=>c&&C.observe(c)),h=()=>{C.disconnect(),h=K}},{immediate:o,flush:"post"}):K,x=()=>{h(),u(),_.value=!1};return W(x),{isSupported:s,isActive:_,pause(){h(),_.value=!1},resume(){_.value=!0},stop:x}}function Pt(e){let r;return new Promise(t=>{r=Nt(e,a=>{for(const i of a)i.isIntersecting&&t(!0)},{rootMargin:"30px 0px 0px 0px",threshold:0}),W(()=>t(!1))}).finally(()=>{r.stop()})}function Ot(e){const{el:r,trigger:t}=e,a=(Array.isArray(e.trigger)?e.trigger:[e.trigger]).filter(Boolean);if(!t||a.includes("immediate")||a.includes("onNuxtReady"))return"onNuxtReady";if(a.some(l=>["visibility","visible"].includes(l)))return r?Pt(r):new Promise(()=>{});const i={},n=new Promise(l=>{const o=typeof r<"u"?r:document.body,s=Ft(o,a,()=>{s(),l(!0)},{once:!0,passive:!0});jt(()=>{B(o,d=>{d&&a.forEach(h=>{d.dataset[`script_${h}`]&&(s(),l(!0))})},{immediate:!0})}),W(()=>l(!1))});return Object.assign(n,{ssrAttrs:i})}const de={__name:"NuxtTurnstile",props:{modelValue:{type:String,required:!1},trigger:{type:[String,Array,Boolean],required:!1},element:{type:String,required:!1,default:"div"},siteKey:{type:String,required:!1},options:{type:Object,required:!1,default:()=>({})},resetInterval:{type:Number,required:!1,default:1e3*250}},emits:["update:modelValue"],setup(e,{expose:r,emit:t}){const a=e,i=t,n=G().public.turnstile,l=z(),o=z(!1);let s,d;const{onLoaded:h}=qt({scriptOptions:{trigger:Ot({trigger:a.trigger,el:l})}});let _,u;const x=()=>{s&&_(s)},v=()=>{o.value=!0,clearInterval(d),s&&u(s)};return U(()=>{h(async({render:k,reset:C,remove:c})=>{_=C,u=c,s=await k(l.value,{sitekey:a.siteKey||n.siteKey,callback:f=>i("update:modelValue",f),...a.options}),d=setInterval(x,a.resetInterval),o.value&&v()})}),qe(v),r({reset:x}),(k,C)=>(g(),I(Ve(e.element),{ref_key:"el",ref:l},null,512))}};de.__docgenInfo={exportName:"default",displayName:"NuxtTurnstile",description:"",tags:{},expose:[{name:"reset"}],props:[{name:"modelValue",type:{name:"string"},required:!1},{name:"trigger",type:{name:"string|array|boolean"},required:!1},{name:"element",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"div"'}},{name:"siteKey",type:{name:"string"},required:!1},{name:"options",type:{name:"object"},required:!1,defaultValue:{func:!1,value:"{}"}},{name:"resetInterval",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"1e3 * 250"}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/node_modules/@nuxtjs/turnstile/dist/runtime/components/NuxtTurnstile.vue"]};const fe={tagName:"formular",data(){return{originalAction:"",formAction:"",formInstance:null,novalidateValue:null,errors:[],siteKey:null}},setup(){return{config:Se()}},computed:{classList(){var e;return["form",`${T.isTrue(this.light)===!0?"is-light":""}`,`${T.isTrue(this.ajax)===!0?"form--ajax":""}`,`${T.isTrue(this.container)===!0?"container":""}`,`${T.isTrue(this.customValidation)===!0?"form--custom-validation":""}`,((e=this.form)==null?void 0:e.noCustomSubmit)===!0?P.noCustomSubmitClass:"","vue-component"]},reCaptchaField(){var e;return(e=this.formInstance)==null?void 0:e.reCaptchaField},novalidate(){return this.novalidateValue},hasAnimationValue(){return T.isTrue(this.hasAnimation)},rowClassList(){return["form__row",`${this.container?"row":""}`]},wrapperClassList(){return[`${this.container?"col-md-11 col-lg-10":""}`]},headlineClassList(){return["container headline-row",`${this.space?this.space:"space-top-2"}`,this.hasAnimationValue?"utility-animation fade-in-bottom":""]},sublineClassList(){return["text-center",`${this.form.sublineClasses?this.form.sublineClasses:""}`]},formClassList(){return["form__submit mt-5",`${this.positionValue}`]},positionValue(){return this.form.ctaPosition?this.form.ctaPosition:T.isTrue(this.uncentered)?"":"justify-content-end"},method(){return this.form.method?this.form.method:"post"},preparedBlocks(){const e=[];let r=0,t=[];return this.form.fields.forEach(a=>{if(this.useTranslation&&(a.label&&(a.label=this.$t(a.label)),a.requiredMsg&&(a.requiredMsg=this.$t(a.requiredMsg))),a.rowStart||a.rowEnd)a.rowStart?(e[r]=t,t.push(a),a.rowEnd&&(t=[],r++)):a.rowEnd&&(t.push(a),t=[],r++);else{if(t.push(a),e[r])return;e[r]=t,t=[],r++}}),e}},mounted(){var e;this.originalAction=this.formAction=(e=this.form)==null?void 0:e.action,this.formInstance=new P(this.$refs.root,null,this.validate.bind(this),this.hasRecaptcha,this.siteKey),P.expose(this.formInstance),this.novalidateValue="novalidate",this.$refs.headline&&te.init([this.$refs.headline])},methods:{getTranslatedText(e){return this.useTranslation?this.$t(e):e},hasError(e){return this.errors[e.id]},getOptions(e){return e.options?typeof e.options=="string"?(console.error("Invalid options format for field"+e.id),null):typeof e.options=="object"&&e.options.list?e.options.list:e.options:null},getBlockClassList(e){return["row mx-n3",`${e!=null&&e.rowClass?e.rowClass:""}`]},getFieldClassList(e){return["px-3",`${e.col?"col-md-"+e.col:"col-md-12"}`]},getId(e){const r=(e==null?void 0:e.radios)||(e==null?void 0:e.checkboxes),t=r?r[0].id:e==null?void 0:e.id;return T.isTrue(this.hasUuid)?P.getId(t):t},updateAction(e){e?this.formAction=e:this.formAction=this.originalAction},handleSubmit(e){if(!this.validate())e.preventDefault();else{if(this.formInstance.hasSubmitHandling)return;e.preventDefault(),this.$emit("success"),this.formInstance.handleRecaptcha().then(()=>{const r=this.$refs.form;if(!r)return console.debug("Form reference missing");r.submit()})}},handleFormFieldUpdate(e){if(!e.id)return;const r=document.getElementById(e.id);r&&this.validateField(r)},validateField(e){const r=e.value,t=e.getAttribute("type"),a=e.hasAttribute("required");if(this.removeFieldError(e),t==="checkbox"){const i=e.checked;if(a&&!i)return this.addFieldError(e),!1}else{if(a&&!r)return this.addFieldError(e),!1;if(t==="email"&&!(n=>/\S+@\S+\.\S+/.test(n))(r))return this.addFieldError(e),!1}return this.addFieldValid(e),!0},addFieldValid(e){e.classList.add(E.VALID)},removeFieldError(e){delete this.errors[e.id],e.classList.remove(E.ERROR)},addFieldError(e){this.errors[e.id]=!0,e.classList.remove(E.VALID),e.classList.add(E.ERROR)},validate(){const e=this.$refs.root.querySelectorAll(`.form-field:not(.${E.HIDDEN}) .form-control[required],
        .form-field:not(.${E.HIDDEN}) .form__checkbox[required]`);let r=!0;for(const t of e)this.validateField(t)||(r=!1);return r}},props:{form:Object,light:{default:null},analytics:{default:null},space:String,container:{default:null},ajax:{default:null},uncentered:{default:null},replaceValue:{default:null},customValidation:{default:null},options:Object,hasUuid:{default:null},hasAnimation:{default:null},useTranslation:{type:Boolean,default:!1},hasRecaptcha:{type:Boolean,default:!0}}},Mt={class:"row"},Dt={class:"col-sm-12"},Ht=["innerHTML"],Ut=["method","action","novalidate"],Bt={key:0,class:"form__recaptcha-infos"};function Wt(e,r,t,a,i,n){const l=me,o=bt,s=de,d=Te;return g(),p("div",{class:V(n.classList),ref:"root"},[y("div",{class:V(n.rowClassList)},[t.form?(g(),p("div",{key:0,class:V(n.wrapperClassList)},[t.form.headline?(g(),p("div",{key:0,class:V(n.headlineClassList),"data-utility-animation-step":"1",ref:"headline"},[y("div",Mt,[y("div",Dt,[N(l,{text:t.form.headline,level:t.form.level,id:t.form.id,classes:"text-center"},null,8,["text","level","id"]),y("p",{class:V(n.sublineClassList),innerHTML:t.form.subline},null,10,Ht)])])],2)):S("",!0),y("form",{class:"form__form mt-6",method:n.method,action:i.formAction,novalidate:n.novalidate,onSubmit:r[1]||(r[1]=(...h)=>n.handleSubmit&&n.handleSubmit(...h)),ref:"form"},[(g(!0),p(w,null,L(n.preparedBlocks,h=>(g(),p(w,null,[h.length>0?(g(),p("div",{key:0,class:V(n.getBlockClassList(h[0]))},[(g(!0),p(w,null,L(h,_=>(g(),p("div",{class:V(n.getFieldClassList(_))},[N(o,{field:_,options:n.getOptions(_),"replace-value":t.replaceValue,id:n.getId(_),"has-animation":n.hasAnimationValue,onActionChanged:n.updateAction,"has-error":n.hasError(_),onFormFieldUpdated:r[0]||(r[0]=u=>n.handleFormFieldUpdate(u))},null,8,["field","options","replace-value","id","has-animation","onActionChanged","has-error"])],2))),256))],2)):S("",!0)],64))),256)),t.hasRecaptcha?(g(),p("div",Bt,[N(s,{ref:"turnstile"},null,512)])):S("",!0),y("div",{class:V(n.formClassList)},[N(d,{text:n.getTranslatedText(t.form.ctaText),type:"submit",button:!0,skin:t.form.cta.skin,width:t.form.cta.width,analytics:t.analytics},null,8,["text","skin","width","analytics"])],2),r[2]||(r[2]=y("input",{type:"text",class:"form__super-field",name:"_gotcha"},null,-1)),n.reCaptchaField?(g(),p("input",Ie({key:1,name:"g-recaptcha-response",type:"hidden"},n.reCaptchaField),null,16)):S("",!0)],40,Ut)],2)):S("",!0)],2)],2)}const Xt=j(fe,[["render",Wt]]);fe.__docgenInfo={exportName:"default",displayName:"formular",description:"",tags:{},props:[{name:"form",type:{name:"object"}},{name:"light",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"analytics",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"space",type:{name:"string"}},{name:"container",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"ajax",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"uncentered",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"customValidation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"options",type:{name:"object"}},{name:"hasUuid",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"useTranslation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasRecaptcha",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"success"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/formular.vue"]};export{Xt as _};
