import{_ as C}from"./DnuMzBUJ.js";import{_ as U}from"./CRJiVXqU.js";import{_ as L}from"./BvOkbsjE.js";import{_ as O}from"./zIwOmaD6.js";import{_ as j}from"./C6F9fxA1.js";import{S as F}from"./CHusp9rC.js";import{_ as q,b as X,a as K}from"./C_4vB66W.js";import{T as M}from"./5GZFpEqa.js";import{_ as R,c as i,b as n,n as u,t as _,a as c,F as g,r as k,d as h,e as d,w as b,j as z,m as S,T as p,u as w,o as s}from"./CV0-TAqy.js";import{u as G}from"./CXVSZpBN.js";import{u as H}from"./BmmglYY5.js";const x={tagName:"post-detail",setup(){const{authors:l}=H(),e=w(!1),r=w(null),o=G();return{authors:l,isAtEnd:e,endPoint:r,store:o}},data(){return{shouldShowStickyBlocks:!1}},mounted(){this.checkStickyBlocks(),window.addEventListener("resize",this.checkStickyBlocks),this.store.setPageIsLoaded(!0)},unmounted(){window.removeEventListener("resize",this.checkStickyBlocks)},methods:{checkStickyBlocks(){this.shouldShowStickyBlocks=!this.asideNavValue||!p.isBelowBreakpoint("lg")}},computed:{stickyOffsetTop(){return this.asideNavValue?124:100},asideNavValue(){var l,e;return((e=(l=this.post)==null?void 0:l.meta)==null?void 0:e.asideNav)||null},enhancedPost(){return this.normalizedPost?{...this.normalizedPost,body:{...this.normalizedPost.body,value:p.applyKramdownAttrs(this.normalizedPost.body.value)}}:null},normalizedPost(){return this.post?p.normalizeMarkdownItem(this.post):null},avatars(){var e;return((e=this.normalizedPost)==null?void 0:e.author).filter(r=>{var o;return this.authors&&((o=this.authors[r])==null?void 0:o.avatar)})},blogImagePath(){return p.blogImagePath},formattedDate(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):""},formattedDateXml(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toISOString():""}},props:{post:{type:Object,required:!0},shareUrl:{type:String,default:""}}},J={class:"w-xl-80 mx-xl-auto"},Q={key:0,class:"post h-entry",itemscope:"",itemtype:"http://schema.org/BlogPosting"},W={class:"post-header"},Y={class:"py-4 mt-5"},Z={class:"row align-items-md-center"},$={key:0,class:"col-md-7 mb-5 mb-md-0"},tt={class:"media align-items-center"},et=["datetime"],st={class:"post-content e-content",itemprop:"articleBody"},ot={class:"post__sticky-excerpt"},at={key:0,class:"post__title-images"},nt={key:1,class:"post__intro-img"},it={key:0},rt={class:"post-detail__tags mt-5"},lt={key:1};function dt(l,e,r,o,f,t){const B=C,N=U,y=L,V=O,v=j,E=F,A=q,D=X,I=K,T=M;return s(),i("div",{class:u(["post-detail container space-top-2 space-top-lg-4",{"post-detail--aside-nav":t.asideNavValue}])},[n("div",J,[t.normalizedPost?(s(),i("article",Q,[n("header",W,[n("h1",{class:u(["post-title p-name",t.normalizedPost.titleClass||"h2-font-size"]),itemprop:"name headline"},_(t.normalizedPost.title),3),n("div",Y,[n("div",Z,[r.post.author?(s(),i("div",$,[n("div",tt,[(s(!0),i(g,null,k(t.avatars,a=>{var m,P;return s(),i("div",{key:a,class:"avatar mr-2"},[o.authors&&((m=o.authors[a])!=null&&m.avatar)?(s(),d(B,{key:0,"img-url":(P=o.authors[a])==null?void 0:P.avatar,author:o.authors[a]},null,8,["img-url","author"])):c("",!0)])}),128)),n("div",{class:u(["media-body font-size-1",{"ml-3":t.avatars.length>0}])},[h(N,{"authors-list":t.normalizedPost.author,"data-authors":o.authors},null,8,["authors-list","data-authors"])],2)])])):c("",!0),n("div",{class:u(["col-md-5 align-self-end pr-lg-0",{"pl-lg-0":!r.post.author}])},[n("div",{class:u(["text-muted font-size-1",{"text-right":r.post.author}])},[n("time",{class:"dt-published",datetime:t.formattedDateXml,itemprop:"datePublished"},_(t.formattedDate),9,et)],2)],2)])])]),n("div",st,[n("p",ot,_(t.normalizedPost.customExcerpt||t.normalizedPost.excerpt),1),r.post.blogTitleImages?(s(),i("div",at,[h(V,{"hide-background":!0},{default:b(()=>[(s(!0),i(g,null,k(t.normalizedPost.blogTitleImages,(a,m)=>(s(),d(y,{key:m,cloudinary:a.cloudinary,img:a.img},null,8,["cloudinary","img"]))),128))]),_:1})])):t.normalizedPost.blogtitlepic?(s(),i("div",nt,[h(y,{img:t.blogImagePath+t.normalizedPost.blogtitlepic,cloudinary:!0,alt:t.normalizedPost.title,"img-src-sets":"postImages"},null,8,["img","alt"]),t.normalizedPost.blogtitlepicsubline?(s(),i("figcaption",it,_(t.normalizedPost.blogtitlepicsubline),1)):c("",!0)])):c("",!0),f.shouldShowStickyBlocks?(s(),d(A,{key:2,"is-at-end":o.isAtEnd,"onUpdate:isAtEnd":e[0]||(e[0]=a=>o.isAtEnd=a),"end-point":o.endPoint,"onUpdate:endPoint":e[1]||(e[1]=a=>o.endPoint=a),class:"post__sticky-bar","sticky-offset-top":t.stickyOffsetTop,"sticky-offset-bottom":20,"has-padding":!t.asideNavValue,breakpoint:"lg"},{default:b(()=>[t.asideNavValue?(s(),d(v,z(S({key:0},t.asideNavValue)),null,16)):(s(),d(E,{key:1,vertical:!0,"hide-label":!0,author:null,"share-url":r.shareUrl},null,8,["share-url"]))]),_:1},8,["is-at-end","end-point","sticky-offset-top","has-padding"])):c("",!0),h(D,{value:t.enhancedPost,tag:"main",class:"richtext"},null,8,["value"]),f.shouldShowStickyBlocks?(s(),d(I,{key:3,"is-at-end":o.isAtEnd,"onUpdate:isAtEnd":e[2]||(e[2]=a=>o.isAtEnd=a),"end-point":o.endPoint,"onUpdate:endPoint":e[3]||(e[3]=a=>o.endPoint=a),"sticky-offset-top":t.stickyOffsetTop,"sticky-offset-bottom":60},null,8,["is-at-end","end-point","sticky-offset-top"])):c("",!0),n("div",rt,[(s(!0),i(g,null,k(t.normalizedPost.tags,(a,m)=>(s(),d(T,{key:m,tag:a,variant:"small"},null,8,["tag"]))),128))]),!f.shouldShowStickyBlocks&&t.asideNavValue?(s(),d(v,z(S({key:4},t.asideNavValue)),null,16)):c("",!0)])])):(s(),i("div",lt,e[4]||(e[4]=[n("h1",null,"Post not found",-1)])))])],2)}const Pt=R(x,[["render",dt]]);x.__docgenInfo={exportName:"default",displayName:"post-detail",description:"",tags:{},props:[{name:"post",type:{name:"object"},required:!0},{name:"shareUrl",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt-storybook-test/components/post-detail.vue"]};export{Pt as _};
