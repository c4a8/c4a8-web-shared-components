import{_ as G}from"./W_80gRJl.js";import{_ as v,c as l,o as i,F as h,b as n,W as E,t as f,r as F,e as x,d as w,n as g,T as p,S as y,a as k,aa as V}from"./yJUOwdww.js";import{_ as K}from"./CYYABtBX.js";import{U as j}from"./BaQiwXCX.js";import{_ as W}from"./Bi-7J0AK.js";const I={tagName:"form-checkbox",computed:{otherId(){return`${this.idValue}_checkbox`},required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.checkbox.id}},methods:{handleChange(e){const t=e.currentTarget.value;this.$emit(E.FORM_FIELD_UPDATED,{value:t,id:this.id})}},props:{checkbox:Object,group:String,id:String}},J={class:"form__checkbox-control custom-control custom-checkbox mb-1 vue-component"},Q=["data-form-group","required","name","id"],X=["for"],Y=["name","id","placeholder","data-form-group"],Z=["name","id","data-form-group","required"],$=["for","innerHTML"];function ee(e,r,t,s,c,a){var d,o,m;return i(),l("div",J,[(d=t.checkbox)!=null&&d.placeholder?(i(),l(h,{key:0},[n("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox","data-form-group":t.group,required:a.required,name:a.otherId,id:a.otherId,onChange:r[0]||(r[0]=(...u)=>a.handleChange&&a.handleChange(...u))},null,40,Q),n("label",{class:"form__checkbox-label custom-control-label",for:a.otherId},null,8,X),n("input",{class:"form__input form-control form-control-sm",type:"text",name:a.idValue,id:a.idValue,placeholder:(o=t.checkbox)==null?void 0:o.placeholder,"data-form-group":t.group},null,8,Y)],64)):(i(),l(h,{key:1},[n("input",{class:"form__checkbox form-check-input custom-control-input",type:"checkbox",name:a.idValue,id:a.idValue,"data-form-group":t.group,required:a.required,onChange:r[1]||(r[1]=(...u)=>a.handleChange&&a.handleChange(...u))},null,40,Z),n("label",{class:"form__checkbox-label custom-control-label",for:a.idValue,innerHTML:(m=t.checkbox)==null?void 0:m.label},null,8,$)],64))])}const M=v(I,[["render",ee]]);I.__docgenInfo={exportName:"default",displayName:"form-checkbox",description:"",tags:{},props:[{name:"checkbox",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkbox.vue"]};const N={tagName:"form-checkboxes",computed:{required(){var e;return(e=this.checkbox)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null},groupId(){return this.field.id}},props:{field:Object,id:{default:null}}},te=["data-msg"];function ae(e,r,t,s,c,a){var o,m;const d=M;return i(),l(h,null,[n("label",{class:"form__label input-label","data-msg":a.message},f((o=t.field)==null?void 0:o.label),9,te),(i(!0),l(h,null,F((m=t.field)==null?void 0:m.checkboxes,u=>(i(),x(d,{checkbox:u,group:a.groupId,id:t.field.id+u.id},null,8,["checkbox","group","id"]))),256))],64)}const re=v(N,[["render",ae]]);N.__docgenInfo={exportName:"default",displayName:"form-checkboxes",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-checkboxes.vue"]};const z={tagName:"form-radio",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},idValue(){return this.id?this.id:this.radio.id}},props:{radio:Object,group:String,id:String,name:String},methods:{changed(e){this.$emit("action-changed",e.changeAction||null)}}},ne={class:"form__radio-control mb-1 vue-component"},ie=["data-form-group","required","name","id"],se=["for"],le=["name","id","placeholder","data-form-group"],oe=["name","id","data-form-group","required"],de=["for","innerHTML"];function ue(e,r,t,s,c,a){var d,o,m;return i(),l("div",ne,[(d=t.radio)!=null&&d.placeholder?(i(),l(h,{key:0},[n("input",{class:"form__radio",type:"radio","data-form-group":t.group,required:a.required,name:a.otherId,id:a.otherId},null,8,ie),n("label",{class:"form__radio-label",for:a.otherId},null,8,se),n("input",{class:"form__input form-control form-control-sm",type:"text",name:t.name,id:a.idValue,placeholder:(o=t.radio)==null?void 0:o.placeholder,"data-form-group":t.group},null,8,le)],64)):(i(),l(h,{key:1},[n("input",{class:"form__radio",type:"radio",name:t.name,id:a.idValue,"data-form-group":t.group,required:a.required,onChange:r[0]||(r[0]=u=>a.changed(t.radio))},null,40,oe),n("label",{class:"form__radio-label",for:a.idValue,innerHTML:(m=t.radio)==null?void 0:m.label},null,8,de)],64))])}const R=v(z,[["render",ue]]);z.__docgenInfo={exportName:"default",displayName:"form-radio",description:"",tags:{},props:[{name:"radio",type:{name:"object"}},{name:"group",type:{name:"string"}},{name:"id",type:{name:"string"}},{name:"name",type:{name:"string"}}],events:[{name:"action-changed",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radio.vue"]};const O={tagName:"form-radios",computed:{otherId(){return`${this.radio.id}_radio`},required(){var e;return(e=this.radio)!=null&&e.required?"required":null},message(){return this.field.required?this.field.requiredMsg:null}},props:{field:Object,id:{default:null}}},ce=["data-msg"],me={class:"d-flex flex-wrap"};function he(e,r,t,s,c,a){var o,m;const d=R;return i(),l(h,null,[n("label",{class:"form__label input-label","data-msg":a.message},f((o=t.field)==null?void 0:o.label),9,ce),n("div",me,[(i(!0),l(h,null,F((m=t.field)==null?void 0:m.radios,u=>(i(),x(d,{class:"pr-10",radio:u,group:t.id,name:t.id,id:t.field.id+u.id,onActionChanged:r[0]||(r[0]=b=>e.$emit("action-changed",b))},null,8,["radio","group","name","id"]))),256))])],64)}const fe=v(O,[["render",he]]);O.__docgenInfo={exportName:"default",displayName:"form-radios",description:"",tags:{},props:[{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-radios.vue"]};const U={tagName:"form-attachments",data(){return{isDragging:!1,hasError:!1,filesLength:0,files:new DataTransfer}},computed:{filesList(){if(!this.files.files)return null;const e=Array.from(this.files.files);return this.filesLength>this.maxFilesValue?e.slice(0,this.maxFilesValue):e},classList(){return["form-attachments",this.hasError===!0?"has-error":"",this.isDragging?y.DRAGGING:"","vue-component"]},interactableClassList(){return["form-attachments__interactable",this.hasErrors?y.HAS_ERROR:""]},requiredValue(){return this.required?"required":null},maxSizeMb(){return this.maxSize/1e6},maxFilesValue(){return this.maxFiles?this.maxFiles:5},extensionList(){const e=this.extensions.map(r=>p.capitalize(r));return e==null?void 0:e.join(", ")},extensionListText(){return`${this.extensionList} max. ${this.maxSizeMb} MB`},acceptList(){return this.extensions.map(e=>`.${e}`).join(",")}},props:{hasError:{default:null},maxSize:Number,description:String,text:String,requiredMsg:{default:null},required:{default:null},extensions:Array,id:String,maxFiles:Number},mounted(){var e,r;this.root=this.$refs.root,this.interactable=this.$refs.interactable,this.button=this.$refs.button,this.textElement=this.$refs.text,this.file=this.$refs.file,this.error=this.$refs.error,this.base64=this.$refs.base64,this.bindEvents(),(r=(e=window.i18n)==null?void 0:e.loader)==null||r.then(()=>{var t,s,c;this.wrongTypeText=(t=window.i18n)==null?void 0:t.translate("formAttachmentsWrongType"),this.maxFilesText=(s=window.i18n)==null?void 0:s.translate("formAttachmentsMaxFiles",this.maxFilesValue),this.maxSizeText=(c=window.i18n)==null?void 0:c.translate("formAttachmentsMaxSize")})},methods:{bindEvents(){this.interactable.addEventListener("drag",this.handleDragStart.bind(this)),this.interactable.addEventListener("dragstart",this.handleDragStart.bind(this)),this.interactable.addEventListener("dragover",this.handleDragOver.bind(this)),this.interactable.addEventListener("dragenter",this.handleDragOver.bind(this)),this.interactable.addEventListener("drop",this.handleDrop.bind(this)),this.interactable.addEventListener("dragleave",this.handleDrop.bind(this)),this.interactable.addEventListener("dragend",this.handleDrop.bind(this)),this.interactable.addEventListener("click",this.handleAddAttachment.bind(this)),document.addEventListener(E.FORM_ATTACHMENT_ERROR,this.handleFormAttachmentError.bind(this));const e=p.getParent(this.root,"form");e&&e.addEventListener("reset",this.reset.bind(this))},handleFormAttachmentError(e){this.showError(this.maxSizeText)},handleDragStart(e){e.preventDefault(),e.stopPropagation()},handleDragOver(e){e.preventDefault(),e.stopPropagation(),window.clearTimeout(this.dropTimeout),this.isDragging=!0},handleDrop(e){var t;e.preventDefault(),e.stopPropagation();const r=(t=e==null?void 0:e.dataTransfer)==null?void 0:t.files;this.dropTimeout=window.setTimeout(()=>{this.isDragging=!1,e.type==="drop"&&this.handleDroppedFiles(r)},50)},isAllowedFileExtension(e){var c;if(!e)return;const r=(c=this.file.getAttribute("accept"))==null?void 0:c.toLowerCase(),t=(r==null?void 0:r.split(","))||[],s=p.getExtension(e.name);return t.includes(`.${s}`)},isUnderMaxSize(e){if(!(!e||!e.size))return e.size<=this.maxSize},handleDroppedFiles(e){const r=this.getErrors(e);if(r)return this.showError(r);this.appendDroppedFiles(e)},handleAddAttachment(){this.file.click()},restoreDataTransfer(){this.file.files=this.files.files},showError(e){this.restoreDataTransfer(),this.setErrorText(e),this.hasError=!0},setErrorText(e){this.error&&(this.error.innerText=e)},reset(){this.file.files=null,this.files=new DataTransfer,this.resetError()},resetError(){this.setErrorText(this.requiredMsg),this.hasError=!1},appendDroppedFiles(e){this.base64&&(this.isRequired&&(this.file.required=!1),this.appendFiles(e))},areFilesAllowed(e){return Array.from(e).every(r=>this.isAllowedFileExtension(r))},getErrors(e){if(!this.areFilesAllowed(e))return this.wrongTypeText;if(this.files.files.length+e.length>this.maxFilesValue)return this.maxFilesText;if(!Array.from(e).every(r=>this.isUnderMaxSize(r)))return this.maxSizeText},appendFiles(e){if(this.files.files.length>=this.maxFilesValue)return this.showError(this.maxFilesText);Array.from(e).forEach(r=>{this.files.items.add(r)}),this.syncFiles()},syncFiles(){this.filesLength=this.files.items.length,this.file.files=this.files.files,this.resetError()},handleChange(e){var s;const r=(s=e==null?void 0:e.target)==null?void 0:s.files,t=this.getErrors(r);if(t)return this.showError(t);this.appendFiles(r)},handleClick(e){this.files.files[e]&&(this.files.items.remove(e),this.syncFiles())},toSize(e){return p.toSize(e)}}},_e=["data-max-size","data-max-files"],ge={class:"form-attachments__button",ref:"button"},pe={class:"form-attachments__content"},be={class:"form-attachments__description"},xe={class:"form-attachments__extensions"},ye={class:"form-attachments__files"},ve=["required","id","name","accept"],Fe={type:"hidden",class:"form-attachments__base64",ref:"base64"},Ee={class:"form-attachments__files-list"},we={class:"form-attachments__files-list-item"},ke={class:"form-attachments__file-details"},qe={class:"form-attachments__file-size"};function Ve(e,r,t,s,c,a){const d=K;return i(),l("div",{class:g(a.classList),"data-max-size":t.maxSize,"data-max-files":a.maxFilesValue,ref:"root"},[n("div",{class:g(a.interactableClassList),ref:"interactable"},[n("div",ge,[w(d,{icon:"close",circle:"true",hover:"true",padding:10})],512),n("div",pe,[n("div",be,f(t.description),1),n("div",{class:"form-attachments__text",ref:"text"},f(t.text),513),n("div",{class:"form-attachments__error is-error",ref:"error"},f(t.requiredMsg),513),n("div",xe,f(a.extensionListText),1)])],2),n("div",ye,[n("input",{type:"file",class:"form-attachments__file",ref:"file",multiple:"",required:a.requiredValue,id:t.id,name:t.id,accept:a.acceptList,onChange:r[0]||(r[0]=(...o)=>a.handleChange&&a.handleChange(...o))},null,40,ve),n("input",Fe,null,512),n("div",Ee,[(i(!0),l(h,null,F(a.filesList,(o,m)=>(i(),l("div",we,[n("span",ke,f(o.name),1),n("span",qe,"("+f(a.toSize(o.size))+")",1),w(d,{class:"form-attachments__delete",size:"small",icon:"bin",onClick:u=>a.handleClick(m)},null,8,["onClick"])]))),256))])])],10,_e)}const Te=v(U,[["render",Ve]]);U.__docgenInfo={exportName:"default",displayName:"form-attachments",description:"",tags:{},props:[{name:"hasError",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"maxSize",type:{name:"number"}},{name:"description",type:{name:"string"}},{name:"text",type:{name:"string"}},{name:"requiredMsg",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"required",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"extensions",type:{name:"array"}},{name:"id",type:{name:"string"}},{name:"maxFiles",type:{name:"number"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-attachments.vue"]};const B={tagName:"form-select",computed:{required(){var e;return(e=this.field)!=null&&e.required?"required":null}},props:{options:Array,field:Object,id:String}},Ae=["for"],Ce=["name","required"],Le={value:""},Se=["value"];function De(e,r,t,s,c,a){return i(),l(h,null,[n("label",{class:"input-label",for:t.id},f(t.field.label),9,Ae),n("select",{class:"form-control custom-select text-muted",name:t.id,required:a.required},[n("option",Le,f(t.field.placeholder),1),(i(!0),l(h,null,F(t.options,d=>(i(),l("option",{value:d.value},f(d.text),9,Se))),256))],8,Ce)],64)}const je=v(B,[["render",De]]);B.__docgenInfo={exportName:"default",displayName:"form-select",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"string"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-select.vue"]};const H={tagName:"form-fields",data(){return{edited:!1,userValue:null}},computed:{classList(){return["form-field js-form-message form-group",`${this.field.type==="hidden"?"d-none":""}`,this.groupClass,this.hasAnimation?"utility-animation utility-animation--small-offset fade-in-bottom":"",`${this.field.showIn?"d-none form-field--show-in "+this.showInClasses:""}`,"vue-component"]},showInClasses(){var e,r;return(r=(e=this.field)==null?void 0:e.showIn)==null?void 0:r.map(t=>"show-in-"+t).join(" ")},groupClass(){return this.field.type==="checkbox"?"mb-3":this.field.type==="file"?"mb-8":""},errorId(){return`${this.id}-error`},readonly(){return this.field.readonly?"readonly":null},required(){return this.field.required?"required":null},placeholder(){return this.field.placeholder?this.field.placeholder:null},value(){return this.edited?this.userValue:this.replaceValue&&this.field.value==="#form-field-replace-value#"?this.replaceValue:this.field.value?this.field.value:null}},mounted(){this.$refs.root&&j.init([this.$refs.root]);const e=this.$parent;if(!e)return;const r=e.$el;r&&r.addEventListener("reset",this.handleReset)},methods:{getRequiredMsg(e){return e.requiredMsg?e.requiredMsg:""},handleChange(e){const t=e.currentTarget.value;this.edited=!0,this.userValue=t,this.$emit(E.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleChangeTextarea(e){const t=e.currentTarget.value;this.$emit(E.FORM_FIELD_UPDATED,{value:t,id:this.id})},handleReset(){this.edited=!1,this.userValue=null},handleFormFieldUpdate(e){this.$emit(E.FORM_FIELD_UPDATED,e)}},props:{options:Array,field:Object,id:{default:null},replaceValue:{default:null},hasAnimation:{default:null},hasError:Boolean}},Ie=["for"],Me=["id","name","placeholder","required","readonly","data-msg"],Ne=["name","value"],ze=["for"],Re=["type","id","name","data-msg","value","placeholder","required","readonly"],Oe=["id"];function Ue(e,r,t,s,c,a){var T,A,C,L,S,D;const d=M,o=re,m=R,u=fe,b=Te,q=je;return t.field.id!=="_gotcha"?(i(),l("div",{key:0,class:g(a.classList),"data-utility-animation-step":"1",ref:"root"},[t.field.type==="textarea"?(i(),l(h,{key:0},[n("label",{class:"input-label",for:t.id},f(t.field.label),9,Ie),n("textarea",{class:"form-control form-textarea",onChange:r[0]||(r[0]=(..._)=>a.handleChangeTextarea&&a.handleChangeTextarea(..._)),onKeyup:r[1]||(r[1]=(..._)=>a.handleChangeTextarea&&a.handleChangeTextarea(..._)),id:t.id,name:t.id,rows:"4",placeholder:a.placeholder,required:a.required,readonly:a.readonly,"data-msg":a.getRequiredMsg(t.field)},null,40,Me)],64)):t.field.type==="checkbox"?(i(),x(d,{key:1,checkbox:t.field,id:t.id,onFormFieldUpdated:r[2]||(r[2]=_=>a.handleFormFieldUpdate(_))},null,8,["checkbox","id"])):t.field.type==="hidden"?(i(),l("input",{key:2,type:"hidden",name:t.id,value:a.value},null,8,Ne)):t.field.checkboxes?(i(),x(o,{key:3,field:t.field,id:t.id},null,8,["field","id"])):t.field.type==="radio"?(i(),x(m,{key:4,radio:t.field,id:t.id},null,8,["radio","id"])):t.field.radios?(i(),x(u,{key:5,field:t.field,id:t.id,onActionChanged:r[3]||(r[3]=_=>e.$emit("action-changed",_))},null,8,["field","id"])):t.field.type==="file"?(i(),x(b,{key:6,description:(T=t.field.formAttachments)==null?void 0:T.description,text:(A=t.field.formAttachments)==null?void 0:A.text,extensions:(C=t.field.formAttachments)==null?void 0:C.extensions,maxSize:(L=t.field.formAttachments)==null?void 0:L.maxSize,id:(S=t.field.formAttachments)==null?void 0:S.id,required:(D=t.field.formAttachments)==null?void 0:D.required,"required-msg":a.getRequiredMsg(t.field.formAttachments)},null,8,["description","text","extensions","maxSize","id","required","required-msg"])):t.field.type==="select"?(i(),x(q,{key:7,field:t.field,options:t.options,id:t.id},null,8,["field","options","id"])):t.field.type?(i(),l(h,{key:8},[n("label",{class:"input-label",for:t.id},f(t.field.label),9,ze),n("input",{ref:"input",onChange:r[4]||(r[4]=(..._)=>a.handleChange&&a.handleChange(..._)),onKeyup:r[5]||(r[5]=(..._)=>a.handleChange&&a.handleChange(..._)),type:t.field.type,id:t.id,name:t.id,class:"form-control","data-msg":a.getRequiredMsg(t.field),value:a.value,placeholder:a.placeholder,required:a.required,readonly:a.readonly},null,40,Re)],64)):k("",!0),t.hasError?(i(),l("div",{key:9,id:a.errorId,class:"invalid-feedback"},f(a.getRequiredMsg(t.field)),9,Oe)):k("",!0)],2)):k("",!0)}const Be=v(H,[["render",Ue]]);H.__docgenInfo={exportName:"default",displayName:"form-fields",description:"",tags:{},props:[{name:"options",type:{name:"array"}},{name:"field",type:{name:"object"}},{name:"id",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasError",type:{name:"boolean"}}],events:[{name:"action-changed"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/form-fields.vue"]};const P={tagName:"formular",data(){return{originalAction:"",formAction:"",formInstance:null,novalidateValue:null,errors:[]}},computed:{classList(){var e;return["form",`${p.isTrue(this.light)===!0?"is-light":""}`,`${p.isTrue(this.ajax)===!0?"form--ajax":""}`,`${p.isTrue(this.container)===!0?"container":""}`,`${p.isTrue(this.customValidation)===!0?"form--custom-validation":""}`,((e=this.form)==null?void 0:e.noCustomSubmit)===!0?V.noCustomSubmitClass:"","vue-component"]},novalidate(){return this.novalidateValue},hasAnimationValue(){return p.isTrue(this.hasAnimation)},rowClassList(){return["form__row",`${this.container?"row":""}`]},wrapperClassList(){return[`${this.container?"col-md-11 col-lg-10":""}`]},headlineClassList(){return["container headline-row",`${this.space?this.space:"space-top-2"}`,this.hasAnimationValue?"utility-animation fade-in-bottom":""]},sublineClassList(){return["text-center",`${this.form.sublineClasses?this.form.sublineClasses:""}`]},formClassList(){return["form__submit mt-5",`${this.positionValue}`]},positionValue(){return this.form.ctaPosition?this.form.ctaPosition:p.isTrue(this.uncentered)?"":"justify-content-end"},method(){return this.form.method?this.form.method:"post"},preparedBlocks(){const e=[];let r=0,t=[];return this.form.fields.forEach(s=>{if(this.useTranslation&&(s.label&&(s.label=this.$t(s.label)),s.requiredMsg&&(s.requiredMsg=this.$t(s.requiredMsg))),s.rowStart||s.rowEnd)s.rowStart?(e[r]=t,t.push(s),s.rowEnd&&(t=[],r++)):s.rowEnd&&(t.push(s),t=[],r++);else{if(t.push(s),e[r])return;e[r]=t,t=[],r++}}),e}},created(){this.originalAction=this.formAction=this.form.action},mounted(){this.formInstance=new V(this.$refs.root,null,this.validate.bind(this)),this.novalidateValue="novalidate",this.$refs.headline&&j.init([this.$refs.headline])},methods:{getTranslatedText(e){return this.useTranslation?this.$t(e):e},hasError(e){return this.errors[e.id]},getOptions(e){return e.options?typeof e.options=="string"?(console.error("Invalid options format for field"+e.id),null):typeof e.options=="object"&&e.options.list?e.options.list:e.options:null},getBlockClassList(e){return["row mx-n3",`${e!=null&&e.rowClass?e.rowClass:""}`]},getFieldClassList(e){return["px-3",`${e.col?"col-md-"+e.col:"col-md-12"}`]},getId(e){const r=(e==null?void 0:e.radios)||(e==null?void 0:e.checkboxes),t=r?r[0].id:e==null?void 0:e.id;return p.isTrue(this.hasUuid)?V.getId(t):t},updateAction(e){e?this.formAction=e:this.formAction=this.originalAction},handleSubmit(e){if(!this.validate())return e.preventDefault()},handleFormFieldUpdate(e){if(!e.id)return;const r=document.getElementById(e.id);r&&this.validateField(r)},validateField(e){const r=e.value,t=e.getAttribute("type"),s=e.hasAttribute("required");if(this.removeFieldError(e),t==="checkbox"){const c=e.checked;if(s&&!c)return this.addFieldError(e),!1}else{if(s&&!r)return this.addFieldError(e),!1;if(t==="email"&&!(a=>/\S+@\S+\.\S+/.test(a))(r))return this.addFieldError(e),!1}return this.addFieldValid(e),!0},addFieldValid(e){e.classList.add(y.VALID)},removeFieldError(e){delete this.errors[e.id],e.classList.remove(y.ERROR)},addFieldError(e){this.errors[e.id]=!0,e.classList.remove(y.VALID),e.classList.add(y.ERROR)},validate(){const e=this.$refs.root.querySelectorAll(`.form-field:not(.${y.HIDDEN}) .form-control[required],
        .form-field:not(.${y.HIDDEN}) .form__checkbox[required]`);let r=!0;for(const t of e)this.validateField(t)||(r=!1);return r}},props:{form:Object,light:{default:null},analytics:{default:null},space:String,container:{default:null},ajax:{default:null},uncentered:{default:null},replaceValue:{default:null},customValidation:{default:null},options:Object,hasUuid:{default:null},hasAnimation:{default:null},useTranslation:{type:Boolean,default:!1}}},He={class:"row"},Pe={class:"col-sm-12"},Ge=["innerHTML"],Ke=["method","action","novalidate"];function We(e,r,t,s,c,a){const d=G,o=Be,m=W;return i(),l("div",{class:g(a.classList),ref:"root"},[n("div",{class:g(a.rowClassList)},[n("div",{class:g(a.wrapperClassList)},[t.form.headline?(i(),l("div",{key:0,class:g(a.headlineClassList),"data-utility-animation-step":"1",ref:"headline"},[n("div",He,[n("div",Pe,[w(d,{text:t.form.headline,level:t.form.level,id:t.form.id,classes:"text-center"},null,8,["text","level","id"]),n("p",{class:g(a.sublineClassList),innerHTML:t.form.subline},null,10,Ge)])])],2)):k("",!0),n("form",{class:"form__form mt-6",method:a.method,action:c.formAction,novalidate:a.novalidate,onSubmit:r[1]||(r[1]=(...u)=>a.handleSubmit&&a.handleSubmit(...u))},[(i(!0),l(h,null,F(a.preparedBlocks,u=>(i(),l(h,null,[u.length>0?(i(),l("div",{key:0,class:g(a.getBlockClassList(u[0]))},[(i(!0),l(h,null,F(u,b=>(i(),l("div",{class:g(a.getFieldClassList(b))},[w(o,{field:b,options:a.getOptions(b),"replace-value":t.replaceValue,id:a.getId(b),"has-animation":a.hasAnimationValue,onActionChanged:a.updateAction,"has-error":a.hasError(b),onFormFieldUpdated:r[0]||(r[0]=q=>a.handleFormFieldUpdate(q))},null,8,["field","options","replace-value","id","has-animation","onActionChanged","has-error"])],2))),256))],2)):k("",!0)],64))),256)),n("div",{class:g(a.formClassList)},[w(m,{text:a.getTranslatedText(t.form.ctaText),type:"submit",button:!0,skin:t.form.cta.skin,width:t.form.cta.width,analytics:t.analytics},null,8,["text","skin","width","analytics"])],2),r[2]||(r[2]=n("input",{type:"text",class:"form__super-field",name:"_gotcha"},null,-1))],40,Ke)],2)],2)],2)}const $e=v(P,[["render",We]]);P.__docgenInfo={exportName:"default",displayName:"formular",description:"",tags:{},props:[{name:"form",type:{name:"object"}},{name:"light",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"analytics",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"space",type:{name:"string"}},{name:"container",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"ajax",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"uncentered",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"replaceValue",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"customValidation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"options",type:{name:"object"}},{name:"hasUuid",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hasAnimation",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"useTranslation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/formular.vue"]};export{$e as _};
