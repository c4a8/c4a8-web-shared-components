import{_ as D}from"./BHpnQiZ7.js";import{_ as T}from"./ERrfWGXD.js";import{_ as E}from"./BqirajnX.js";import{S as A}from"./CHmZAqGN.js";import{_ as F}from"./G2LGQDBM.js";import{S as H}from"./C37ZahPD.js";import{_ as M}from"./C84R1JmE.js";import{T as R}from"./DkTrTnef.js";import{c as n,k as U,m as g,z as q,o as s,_ as O,b as o,n as h,t as k,a as u,F as y,r as v,d as p,e as d,w as j,h as P,T as _,q as b}from"./DhzwT3aH.js";import{u as W}from"./DdTciIy8.js";import{u as X}from"./9uXK8tqI.js";const K=["href"],z={__name:"content-renderer-link",props:["href"],setup(r){const e=r,i=a=>{if(e.href){const l=a.currentTarget.getAttribute("target");l?window.open(e.href,l):window.location.href=e.href}};return(a,l)=>(s(),n("a",g({href:r.href},a.$attrs,{onClick:q(i,["prevent"]),class:"content-renderer-link"}),[U(a.$slots,"default")],16,K))}};z.__docgenInfo={exportName:"default",displayName:"content-renderer-link",description:"",tags:{},props:[{name:"href",type:{name:"undefined"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/content-renderer-link.vue"]};const N={tagName:"post-detail",components:{ContentRendererLink:z},setup(){const{authors:r}=X(),e=b(!1),i=b(null),a=b(0),l=W();return{authors:r,isAtEnd:e,endPoint:i,stickyContentHeight:a,store:l,ContentRendererLink:z}},data(){return{shouldShowStickyBlocks:!1}},mounted(){if(this.checkStickyBlocks(),window.addEventListener("resize",this.checkStickyBlocks),!this.normalizedPost)return _.gotoHome();this.store.setPageIsLoaded(!0)},unmounted(){window.removeEventListener("resize",this.checkStickyBlocks)},methods:{checkStickyBlocks(){this.shouldShowStickyBlocks=!this.asideNavValue||!_.isBelowBreakpoint("lg")}},computed:{contentWidth(){var r,e;return["richtext",((e=(r=this.post)==null?void 0:r.meta)==null?void 0:e.maxContent)===!0?"richtext--full-width":null]},stickyOffsetTop(){return this.asideNavValue?124:100},asideNavValue(){var r,e;return((e=(r=this.post)==null?void 0:r.meta)==null?void 0:e.asideNav)||null},enhancedPost(){return this.normalizedPost?{...this.normalizedPost,body:{...this.normalizedPost.body,value:_.applyKramdownAttrs(this.normalizedPost.body.value)}}:null},normalizedPost(){return this.post?_.normalizeMarkdownItem(this.post):null},avatars(){var e;return((e=this.normalizedPost)==null?void 0:e.author).filter(i=>{var a;return this.authors&&((a=this.authors[i])==null?void 0:a.avatar)})},blogImagePath(){return _.blogImagePath},formattedDate(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):""},formattedDateXml(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toISOString():""}},props:{post:{type:Object,required:!0},shareUrl:{type:String,default:""}}},G={class:"w-xl-80 mx-xl-auto"},J={key:0,class:"post h-entry",itemscope:"",itemtype:"http://schema.org/BlogPosting",ref:"article"},Q={class:"post-header"},Y={class:"py-4 mt-5"},Z={class:"row align-items-md-center"},$={key:0,class:"col-md-7 mb-5 mb-md-0"},tt={class:"media align-items-center"},et=["datetime"],st={class:"post-content e-content",itemprop:"articleBody"},at=["innerHTML"],ot={key:0,class:"post__title-images"},rt={key:1,class:"post__intro-img"},nt={key:0},it={key:2,class:"post__sticky-bar d-none d-xl-block",style:{position:"sticky",top:"120px"}},lt={style:{position:"absolute"}},ct={key:3,class:"post__sticky-bar d-xl-none"},dt={class:"post-detail__tags mt-5"},ut={key:1};function mt(r,e,i,a,l,t){const B=D,C=T,w=E,V=A,f=F,x=H,I=M,L=R;return s(),n("div",{class:h(["post-detail container space-top-2 space-top-lg-4",{"post-detail--aside-nav":t.asideNavValue}])},[o("div",G,[t.normalizedPost?(s(),n("article",J,[o("header",Q,[o("h1",{class:h(["post-title p-name",t.normalizedPost.titleClass||"h2-font-size"]),itemprop:"name headline"},k(t.normalizedPost.title),3),o("div",Y,[o("div",Z,[i.post.author?(s(),n("div",$,[o("div",tt,[(s(!0),n(y,null,v(t.avatars,c=>{var m,S;return s(),n("div",{key:c,class:"avatar mr-2"},[a.authors&&((m=a.authors[c])!=null&&m.avatar)?(s(),d(B,{key:0,"img-url":(S=a.authors[c])==null?void 0:S.avatar,author:a.authors[c]},null,8,["img-url","author"])):u("",!0)])}),128)),o("div",{class:h(["media-body font-size-1",{"ml-3":t.avatars.length>0}])},[p(C,{"authors-list":t.normalizedPost.author,"data-authors":a.authors},null,8,["authors-list","data-authors"])],2)])])):u("",!0),o("div",{class:h(["col-md-5 align-self-end pr-lg-0",{"pl-lg-0":!i.post.author}])},[o("div",{class:h(["text-muted font-size-1",{"text-right":i.post.author}])},[o("time",{class:"dt-published",datetime:t.formattedDateXml,itemprop:"datePublished"},k(t.formattedDate),9,et)],2)],2)])])]),o("div",st,[o("p",{class:"post__sticky-excerpt",innerHTML:t.normalizedPost.customExcerpt||t.normalizedPost.excerpt},null,8,at),i.post.blogTitleImages?(s(),n("div",ot,[p(V,{"hide-background":!0},{default:j(()=>[(s(!0),n(y,null,v(t.normalizedPost.blogTitleImages,(c,m)=>(s(),d(w,{key:m,cloudinary:c.cloudinary,img:c.img},null,8,["cloudinary","img"]))),128))]),_:1})])):t.normalizedPost.blogtitlepic?(s(),n("div",rt,[p(w,{img:t.blogImagePath+t.normalizedPost.blogtitlepic,cloudinary:!0,alt:t.normalizedPost.title,"img-src-sets":"postImages"},null,8,["img","alt"]),t.normalizedPost.blogtitlepicsubline?(s(),n("figcaption",nt,k(t.normalizedPost.blogtitlepicsubline),1)):u("",!0)])):u("",!0),l.shouldShowStickyBlocks?(s(),n("div",it,[o("div",lt,[t.asideNavValue?(s(),d(f,P(g({key:0},t.asideNavValue)),null,16)):(s(),d(x,{key:1,vertical:!0,"hide-label":!0,author:null,"share-url":i.shareUrl},null,8,["share-url"]))])])):u("",!0),l.shouldShowStickyBlocks?(s(),n("div",ct,[t.asideNavValue?(s(),d(f,P(g({key:0},t.asideNavValue)),null,16)):(s(),d(x,{key:1,vertical:!0,"hide-label":!0,author:null,"share-url":i.shareUrl},null,8,["share-url"]))])):u("",!0),p(I,{value:t.enhancedPost,tag:"main",class:h(t.contentWidth),components:{a:a.ContentRendererLink}},null,8,["value","class","components"]),o("div",dt,[(s(!0),n(y,null,v(t.normalizedPost.tags,(c,m)=>(s(),d(L,{key:m,tag:c,variant:"small"},null,8,["tag"]))),128))]),!l.shouldShowStickyBlocks&&t.asideNavValue?(s(),d(f,P(g({key:4},t.asideNavValue)),null,16)):u("",!0)])],512)):(s(),n("div",ut,[...e[0]||(e[0]=[o("h1",null,"Post not found",-1)])]))])],2)}const wt=O(N,[["render",mt]]);N.__docgenInfo={exportName:"default",displayName:"post-detail",description:"",tags:{},props:[{name:"post",type:{name:"object"},required:!0},{name:"shareUrl",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/post-detail.vue"]};export{wt as _};
