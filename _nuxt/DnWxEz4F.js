var H=Object.defineProperty;var x=(a,t,e)=>t in a?H(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var h=(a,t,e)=>x(a,typeof t!="symbol"?t+"":t,e);import{_ as b}from"./nhYRR1B7.js";import{A as u}from"./CSwz05UH.js";import{T as l,S as d,_ as v,c as w,b as r,t as g,n as S,a as C,g as E,d as T,f as p,o as m}from"./GkvUFEGN.js";class f{constructor(t){var e;this.root=t,this.targetSelector=".js-toggle-switch",this.target=this.root.querySelector(this.targetSelector),this.duration=400,this.parsePricingData=(e=this.root.querySelector("[data-pricing]"))==null?void 0:e.dataset.pricing,this.bindEvents(),this.initPrices()}getTargetSelectors(t){const o=JSON.parse(t.dataset.toggleSwitchOptions).targetSelector.split(","),s=[];for(let i=0;i<o.length;i++){const c=o[i].replace(/\s/g,"");s.push(c)}return s}handleChange(t){const e=t.currentTarget,o=e.checked,i=JSON.parse(e.dataset.toggleSwitchOptions).targetSelector.split(","),c=i.some(n=>n.includes("pricing"));for(let n=0;n<i.length;n++){const y=i[n].replace(/\s/g,"");this.switchData(y,o,c)}[].forEach.call(document.querySelectorAll("[data-alternative-href]"),n=>{this.switchButtonHrefs(n,o)})}switchButtonHrefs(t,e){t.dataset.originalHref||(t.dataset.originalHref=t.href),t.href=e?t.dataset.originalHref:t.dataset.alternativeHref}pricingData(){return this.parsePricingData?JSON.parse(this.parsePricingData):{format:"de-DE",currency:"EUR",defaultPlan:"monthly"}}priceFormatter(){const t=this.pricingData();return l.getPriceFormatter(t)}switchAnimation(t,e,o){new u().start({duration:this.duration,timing:u.easing.easeInOutCubic,draw:i=>{const c=i*(o-e)+e;l.updateElementPrice(t,c,this.priceFormatter())}})}initPrices(){this.getTargetSelectors(this.target).forEach(e=>{document.querySelectorAll(e).forEach(s=>{s.dataset.currencyFormat!==void 0&&l.updateElementPrice(s,s.innerHTML,this.priceFormatter())})})}switchData(t,e,o){const s=document.querySelectorAll(t);for(let i=0;i<s.length;i++){const c=s[i];o?this.handlePriceSwitch(c,e):this.handleForms(c,t)}}handlePriceSwitch(t,e){const o=JSON.parse(t.dataset.toggleSwitchItemOptions),s=e?o.monthly:o.annual,i=e?o.annual:o.monthly;this.switchAnimation(t,s,i)}handleForms(t,e){const o=t.className.includes(d.HIDDEN),s=e.startsWith(".")?e.substring(1):e;t.className=s+" "+(o?"":d.HIDDEN)}bindEvents(){this.target.addEventListener("change",this.handleChange.bind(this))}static init(){this.instances=[],[].forEach.call(document.querySelectorAll(this.rootSelector),t=>{this.instances.push(new this(t))})}}h(f,"rootSelector",".toggle-switch");const _={props:{toggleSwitch:{type:Object,default:()=>({})},toggleSwitchHasAnimation:{type:Boolean,default:!1},products:{type:Object}},mounted(){this.$refs.root&&new f(this.$refs.root)},computed:{toggleSwitchTextLeft(){return this.toggleSwitch.textLeft||"Monthly"},toggleSwitchTextRight(){return this.toggleSwitch.textRight||"Annual"},toggleSwitchHint(){return this.toggleSwitch.hint||null},toggleSwitchHintText(){return this.toggleSwitchHint&&this.toggleSwitchHint.text||"Save up to 10%"},toggleSwitchHintBgColor(){return this.toggleSwitchHint&&this.toggleSwitchHint.bgColor||"var(--color-secondary)"},toggleSwitchHintColor(){return this.toggleSwitchHint&&this.toggleSwitchHint.color||"var(--color-white)"},toggleSwitchId(){return this.toggleSwitch.id||"customToggleSwitch"},toggleSwitchTargetSelector(){return this.toggleSwitch.targetSelector||"#pricingCount1, #pricingCount2, #pricingCount3"},toggleSwitchLimit(){return this.toggleSwitch.limit||!1},defaultPlan(){return this.products&&this.products.pricing&&this.products.pricing.defaultPlan},toggleSwitchActive(){return this.toggleSwitch.active||this.defaultPlan==="annual"},toggleSwitchLimitLeftClass(){return this.toggleSwitchLimit?"toggle-switch__text--right":""},toggleSwitchClasses(){return["toggle-switch","overflow-hidden","d-flex","justify-content-center","align-items-center","pt-6","mb-5",this.toggleSwitchHasAnimation?"utility-animation fade-in-bottom":""]}}},A=["for"],N=["id","checked","data-toggle-switch-options"],P={class:"font-size-1 position-relative text-muted toggle-switch__text"},D={key:0,class:"position-absolute row toggle-switch__hint"};function L(a,t,e,o,s,i){const c=b;return m(),w("div",{class:S(i.toggleSwitchClasses),"data-utility-animation-step":"1",ref:"root"},[r("span",{class:S(["font-size-1 text-muted toggle-switch__text",i.toggleSwitchLimitLeftClass])},g(i.toggleSwitchTextLeft),3),r("label",{class:"mx-2",for:i.toggleSwitchId},[r("input",{type:"checkbox",class:"js-toggle-switch toggle-switch-input",id:i.toggleSwitchId,checked:i.toggleSwitchActive,"data-toggle-switch-options":JSON.stringify({targetSelector:i.toggleSwitchTargetSelector})},null,8,N),t[0]||(t[0]=r("span",{class:"toggle-switch-label"},[r("span",{class:"toggle-switch-indicator"})],-1))],8,A),r("span",P,[i.toggleSwitchHint?(m(),w("div",D,[T(c,{icon:"arrow-curl",size:"small"}),r("span",{class:"badge-pill toggle-switch__hint-text",style:p({backgroundColor:i.toggleSwitchHintBgColor})},[r("span",{class:"small",style:p({color:i.toggleSwitchHintColor})},g(i.toggleSwitchHintText),5)],4)])):C("",!0),E(" "+g(i.toggleSwitchTextRight),1)])],2)}const I=v(_,[["render",L]]);_.__docgenInfo={exportName:"default",displayName:"toggle-switch",description:"",tags:{},props:[{name:"toggleSwitch",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"toggleSwitchHasAnimation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"products",type:{name:"object"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/toggle-switch.vue"]};export{I as T};
