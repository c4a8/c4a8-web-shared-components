import{_ as E}from"./_S_Qiu6d.js";import{_ as A}from"./DYf72tWN.js";import{_ as H}from"./CWYS10WZ.js";import{S as O}from"./C8Nce61b.js";import{_ as R}from"./DO8lCB_t.js";import{_ as q}from"./C_IlGaTN.js";import{_ as F}from"./ClvaA73g.js";import{_ as M}from"./Cbg_eQs6.js";import{T as U}from"./BfF5RsuQ.js";import{_ as j,c as n,b as s,n as m,t as g,a as u,F as f,r as k,d as p,e as c,w as b,i as x,m as w,T as h,q as y,o as a}from"./sjE8xaCF.js";import{u as W}from"./DI0YvDWA.js";import{u as X}from"./COxUIdEV.js";import{_ as S}from"./BgOutgNZ.js";const B={tagName:"post-detail",components:{ContentRendererLink:S},setup(){const{authors:o}=X(),e=y(!1),i=y(null),r=y(0),_=W();return{authors:o,isAtEnd:e,endPoint:i,stickyContentHeight:r,store:_,ContentRendererLink:S}},data(){return{shouldShowStickyBlocks:!1}},mounted(){if(this.checkStickyBlocks(),window.addEventListener("resize",this.checkStickyBlocks),!this.normalizedPost)return h.gotoHome();this.store.setPageIsLoaded(!0)},unmounted(){window.removeEventListener("resize",this.checkStickyBlocks)},methods:{checkStickyBlocks(){this.shouldShowStickyBlocks=!this.asideNavValue||!h.isBelowBreakpoint("lg")}},computed:{contentWidth(){var o,e;return["richtext",((e=(o=this.post)==null?void 0:o.meta)==null?void 0:e.maxContent)===!0?"richtext--full-width":null]},stickyOffsetTop(){return this.asideNavValue?124:100},asideNavValue(){var o,e;return((e=(o=this.post)==null?void 0:o.meta)==null?void 0:e.asideNav)||null},enhancedPost(){return this.normalizedPost?{...this.normalizedPost,body:{...this.normalizedPost.body,value:h.applyKramdownAttrs(this.normalizedPost.body.value)}}:null},normalizedPost(){return this.post?h.normalizeMarkdownItem(this.post):null},avatars(){var e;return((e=this.normalizedPost)==null?void 0:e.author).filter(i=>{var r;return this.authors&&((r=this.authors[i])==null?void 0:r.avatar)})},blogImagePath(){return h.blogImagePath},formattedDate(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):""},formattedDateXml(){var e;return(e=this.normalizedPost)!=null&&e.date?new Date(this.normalizedPost.date).toISOString():""}},props:{post:{type:Object,required:!0},shareUrl:{type:String,default:""}}},K={class:"w-xl-80 mx-xl-auto"},G={key:0,class:"post h-entry",itemscope:"",itemtype:"http://schema.org/BlogPosting",ref:"article"},J={class:"post-header"},Q={class:"py-4 mt-5"},Y={class:"row align-items-md-center"},Z={key:0,class:"col-md-7 mb-5 mb-md-0"},$={class:"media align-items-center"},tt=["datetime"],et={class:"post-content e-content",itemprop:"articleBody"},at=["innerHTML"],st={key:0,class:"post__title-images"},ot={key:1,class:"post__intro-img"},rt={key:0},nt={class:"post-detail__tags mt-5"},it={key:1};function lt(o,e,i,r,_,t){const N=E,V=A,v=H,C=O,P=R,L=q,D=F,I=M,T=U;return a(),n("div",{class:m(["post-detail container space-top-2 space-top-lg-4",{"post-detail--aside-nav":t.asideNavValue}])},[s("div",K,[t.normalizedPost?(a(),n("article",G,[s("header",J,[s("h1",{class:m(["post-title p-name",t.normalizedPost.titleClass||"h2-font-size"]),itemprop:"name headline"},g(t.normalizedPost.title),3),s("div",Q,[s("div",Y,[i.post.author?(a(),n("div",Z,[s("div",$,[(a(!0),n(f,null,k(t.avatars,l=>{var d,z;return a(),n("div",{key:l,class:"avatar mr-2"},[r.authors&&((d=r.authors[l])!=null&&d.avatar)?(a(),c(N,{key:0,"img-url":(z=r.authors[l])==null?void 0:z.avatar,author:r.authors[l]},null,8,["img-url","author"])):u("",!0)])}),128)),s("div",{class:m(["media-body font-size-1",{"ml-3":t.avatars.length>0}])},[p(V,{"authors-list":t.normalizedPost.author,"data-authors":r.authors},null,8,["authors-list","data-authors"])],2)])])):u("",!0),s("div",{class:m(["col-md-5 align-self-end pr-lg-0",{"pl-lg-0":!i.post.author}])},[s("div",{class:m(["text-muted font-size-1",{"text-right":i.post.author}])},[s("time",{class:"dt-published",datetime:t.formattedDateXml,itemprop:"datePublished"},g(t.formattedDate),9,tt)],2)],2)])])]),s("div",et,[s("p",{class:"post__sticky-excerpt",innerHTML:t.normalizedPost.customExcerpt||t.normalizedPost.excerpt},null,8,at),i.post.blogTitleImages?(a(),n("div",st,[p(C,{"hide-background":!0},{default:b(()=>[(a(!0),n(f,null,k(t.normalizedPost.blogTitleImages,(l,d)=>(a(),c(v,{key:d,cloudinary:l.cloudinary,img:l.img},null,8,["cloudinary","img"]))),128))]),_:1})])):t.normalizedPost.blogtitlepic?(a(),n("div",ot,[p(v,{img:t.blogImagePath+t.normalizedPost.blogtitlepic,cloudinary:!0,alt:t.normalizedPost.title,"img-src-sets":"postImages"},null,8,["img","alt"]),t.normalizedPost.blogtitlepicsubline?(a(),n("figcaption",rt,g(t.normalizedPost.blogtitlepicsubline),1)):u("",!0)])):u("",!0),_.shouldShowStickyBlocks?(a(),c(D,{key:2,class:"post__sticky-bar","sticky-offset-top":t.stickyOffsetTop,"has-padding":!t.asideNavValue,breakpoint:"lg","calculate-height":!0},{default:b(()=>[t.asideNavValue?(a(),c(P,x(w({key:0},t.asideNavValue)),null,16)):(a(),c(L,{key:1,vertical:!0,"hide-label":!0,author:null,"share-url":i.shareUrl},null,8,["share-url"]))]),_:1},8,["sticky-offset-top","has-padding"])):u("",!0),p(I,{value:t.enhancedPost,tag:"main",class:m(t.contentWidth),components:{a:r.ContentRendererLink}},null,8,["value","class","components"]),s("div",nt,[(a(!0),n(f,null,k(t.normalizedPost.tags,(l,d)=>(a(),c(T,{key:d,tag:l,variant:"small"},null,8,["tag"]))),128))]),!_.shouldShowStickyBlocks&&t.asideNavValue?(a(),c(P,x(w({key:3},t.asideNavValue)),null,16)):u("",!0)])],512)):(a(),n("div",it,[...e[0]||(e[0]=[s("h1",null,"Post not found",-1)])]))])],2)}const zt=j(B,[["render",lt]]);B.__docgenInfo={exportName:"default",displayName:"post-detail",description:"",tags:{},props:[{name:"post",type:{name:"object"},required:!0},{name:"shareUrl",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/post-detail.vue"]};export{zt as _};
