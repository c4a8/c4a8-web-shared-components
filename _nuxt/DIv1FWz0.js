import{_ as I}from"./DyC52ADf.js";import{_ as O}from"./BfxxziY9.js";import{_ as N}from"./rigcSH9g.js";import{_ as v,c as d,o,a as _,d as i,t as f,w as h,g as P,b as s,n as T,S as g,p as y,T as k,u as S,e as C,ab as j,f as A,m as U,j as x,k as w}from"./Dh7ZAFHk.js";import{_ as D}from"./BiLa5Wpu.js";import{_ as $}from"./BaF4tNKW.js";import{_ as z}from"./ixZ5QaGO.js";import{_ as H}from"./DjHNF5Y7.js";import{_ as R,a as M}from"./t2VC0aGC.js";import{u as F}from"./D6i485wk.js";import{u as G}from"./33_7Hazk.js";const V={name:"event-detail-intro",props:{badge:{type:Object,default:null},image:{type:Object,default:null},moment:{type:String,default:null},time:{type:String,default:null},headlineText:{type:String,required:!0},headlineLevel:{type:String,default:"h1"},headlineClasses:{type:String,default:""},name:{type:Array,default:null}}},Y={class:"event-detail-intro page-detail__intro-content"},q={key:0,class:"page-detail__badge page-detail__animation-3"},K={key:1,class:"page-detail__details mb-2 page-detail__animation-3"},J={key:0,class:"page-detail__moment font-size-1 bold"},W={key:1,class:"page-detail__time font-size-1"},Q={key:2,class:"page-detail__img-wrapper"},X={class:"page-detail__img page-detail__animation-3"},Z={key:0,class:"page-detail__subline page-detail__subline--overlapped font-size-1 bold"},ee={class:"page-detail__subline-foreground"};function te(a,t,e,n,l,c){const r=I,p=O,u=N;return o(),d("div",Y,[e.badge?(o(),d("div",q,[i(r,{text:e.badge.text,icon:e.badge.icon,color:e.badge.color,"text-color":e.badge.textColor,overlapping:!0},null,8,["text","icon","color","text-color"])])):_("",!0),e.moment||e.time?(o(),d("div",K,[e.moment?(o(),d("span",J,f(e.moment),1)):_("",!0),e.time?(o(),d("span",W,f(e.time),1)):_("",!0)])):_("",!0),i(p,{level:e.headlineLevel,classes:e.headlineClasses},{default:h(()=>[P(f(e.headlineText),1)]),_:1},8,["level","classes"]),e.image?(o(),d("div",Q,[s("div",X,[i(u,{img:e.image.img,alt:e.image.alt,cloudinary:e.image.cloudinary??!0,"img-src-sets":"event"},null,8,["img","alt","cloudinary"])]),e.name?(o(),d("div",Z,[t[0]||(t[0]=s("div",{class:"page-detail__subline-background"},null,-1)),s("div",ee,f(a.$t("withAuthor"))+" "+f(e.name.join(" & ")),1)])):_("",!0)])):_("",!0)])}const ae=v(V,[["render",te]]);V.__docgenInfo={displayName:"event-detail-intro",exportName:"default",description:"",tags:{},props:[{name:"badge",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"image",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"moment",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"time",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"headlineText",type:{name:"string"},required:!0},{name:"headlineLevel",type:{name:"string"},defaultValue:{func:!1,value:"'h1'"}},{name:"headlineClasses",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"name",type:{name:"array"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/event-detail-intro.vue"]};const B={name:"back",props:{classes:{type:String,default:""}},data(){return{State:g,canGoBack:!1}},mounted(){this.canGoBack=document.referrer.indexOf(document.location.host)!==-1},methods:{handleClick(a){a.stopImmediatePropagation(),window.history.back()}}};function ne(a,t,e,n,l,c){const r=H;return o(),d("div",{class:T(["back back--animated",[e.classes,{[l.State.SHOW]:l.canGoBack}]]),onClick:t[0]||(t[0]=(...p)=>c.handleClick&&c.handleClick(...p))},[i(r,{icon:"arrow",direction:"left",hover:!0,circle:!0})],2)}const se=v(B,[["render",ne]]);B.__docgenInfo={displayName:"back",exportName:"default",description:"",tags:{},props:[{name:"classes",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/back.vue"]};const E={name:"page-detail",setup(){const{authors:a}=G(),t=S(!1),e=S(null),n=F();return{authors:a,isAtEnd:t,endPoint:e,State:g,store:n}},data(){return{hasBack:!1,stickyPosition:0,hsStickyBlockOptions:null,percentageInViewport:1,stickyOffsetTop:200,stickyUnstuckOffsetTop:0,isLoading:!0,loadingDelay:100}},props:{detailColor:{type:String},detailShapeColor:{type:String}},computed:{hasShape(){return!!this.$refs.shape}},methods:{showBackButton(){document.referrer.indexOf(document.location.host)!==-1&&(this.hasBack=!0)},getDOMElement(a){var t;return(t=this.$refs.root)==null?void 0:t.querySelector(a)},setStickyPosition(){var l,c,r;if(!this.hasShape||!this.isInViewport()||!k.isUpperBreakpoint())return;const a=k.isBelowBreakpoint("lg")?10:-40,t=((l=this.getDOMElement(".page-detail__intro-content .page-detail__badge"))==null?void 0:l.offsetHeight)||0,e=((c=this.getDOMElement(".page-detail__intro-content .page-detail__details"))==null?void 0:c.offsetHeight)||0,n=((r=this.getDOMElement(".page-detail__intro-content .page-detail__headline"))==null?void 0:r.offsetHeight)||0;this.stickyPosition=t+e+n-a},isInViewport(){return k.isInViewportPercent(this.$refs.root,this.percentageInViewport)},setShapePosition(){if(!(!this.hasShape||!this.isInViewport())){if(!k.isUpperBreakpoint())return this.resetShape();this.isAtEnd?this.handleStickyShapeEnd():this.isSticky()?(this.$refs.shape.classList.add(g.STICKY),this.$refs.shape.style.top=-this.stickyPosition+"px"):this.resetShape()}},handleStickyShapeEnd(){this.$refs.shape.classList.add(g.STICKY),this.$refs.shape.style.top=-this.stickyPosition-this.getRelativePosition()+"px"},getStickyBlock(){return this.getDOMElement(".js-sticky-block")},getRelativePosition(){const a=this.getStickyBlock(),t=(a==null?void 0:a.style.top.replace("px",""))||0;return t>=0?this.stickyOffsetTop-Math.abs(t):this.stickyOffsetTop-parseFloat(t)},resetShape(){this.$refs.shape.classList.remove(g.STICKY),this.$refs.shape.style.top=""},isSticky(){return window.scrollY>this.stickyPosition},setStickyUnstuckOffsetTop(){this.stickyUnstuckOffsetTop=window.innerHeight},handleScroll(){this.setShapePosition()},handleResize(){this.setStickyPosition(),this.setShapePosition(),this.setStickyUnstuckOffsetTop()}},mounted(){this.showBackButton(),this.setStickyPosition(),this.setShapePosition(),this.setStickyUnstuckOffsetTop(),document.addEventListener("scroll",this.handleScroll),document.addEventListener("resize",this.handleResize),this.store.setPageIsLoaded(!0),setTimeout(()=>{this.isLoading=!1},this.loadingDelay)},beforeUnmount(){document.removeEventListener("scroll",this.handleScroll),document.removeEventListener("resize",this.handleResize)}},oe={key:0,class:"page-detail__shape page-detail__animation-3",ref:"shape"},ie={class:"page-detail__shape-corner"},le={class:"page-detail__shape-corner-desktop"},re={class:"page-detail__shape-corner-mobile"},de={class:"page-detail__container container"},ce={class:"page-detail__start row"},me={class:"page-detail__sticky-start col-md-11 col-lg-5"},pe={class:"page-detail__content page-detail__animation-3 col-md-11 offset-lg-1 col-lg-6"};function _e(a,t,e,n,l,c){const r=z,p=se,u=R,b=M;return o(),d("div",{class:T(["page-detail",{"page-detail--has-back":l.hasBack,[n.State.LOADING]:l.isLoading}]),ref:"root"},[a.$slots.shape?(o(),d("div",oe,[y(a.$slots,"shape"),s("div",ie,[s("div",le,[i(r,{color:e.detailShapeColor,height:30},null,8,["color"])]),s("div",re,[i(r,{color:e.detailShapeColor,height:15},null,8,["color"])])])],512)):_("",!0),s("div",de,[s("div",ce,[s("div",me,[i(u,{"is-at-end":n.isAtEnd,"onUpdate:isAtEnd":t[0]||(t[0]=m=>n.isAtEnd=m),"end-point":n.endPoint,"onUpdate:endPoint":t[1]||(t[1]=m=>n.endPoint=m),class:"page-detail__intro","sticky-offset-top":l.stickyOffsetTop,"sticky-offset-bottom":20,breakpoint:"lg"},{default:h(()=>[i(p,{classes:"page-detail__back page-detail__animation-3"}),y(a.$slots,"intro")]),_:3},8,["is-at-end","end-point","sticky-offset-top"])]),s("div",pe,[y(a.$slots,"body"),y(a.$slots,"formular")])])]),i(b,{"is-at-end":n.isAtEnd,"onUpdate:isAtEnd":t[2]||(t[2]=m=>n.isAtEnd=m),"end-point":n.endPoint,"onUpdate:endPoint":t[3]||(t[3]=m=>n.endPoint=m),"sticky-offset-top":l.stickyUnstuckOffsetTop,"sticky-offset-bottom":40},null,8,["is-at-end","end-point","sticky-offset-top"])],2)}const he=v(E,[["render",_e]]);E.__docgenInfo={displayName:"page-detail",exportName:"default",description:"",tags:{},props:[{name:"detailColor",type:{name:"string"}},{name:"detailShapeColor",type:{name:"string"}}],slots:[{name:"shape"},{name:"intro"},{name:"body"},{name:"formular"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/page-detail.vue"]};const L={tagName:"event-detail",props:{detailColor:{type:String,default:"--color-event-detail"},detailShapeColor:{type:String,default:"var(--color-event-detail-shape)"},headlineText:String,author:Array,headlineLevel:{type:String,default:"h1"},headlineClasses:{type:String,default:"bold"},form:Object,image:Object,badge:Object,moment:String,time:String,lang:{type:String,default:"de"},body:Object},computed:{introData(){return{badge:this.badge,image:this.image,moment:this.moment,time:this.time,headlineText:this.headlineText,headlineLevel:this.headlineLevelComputed,headlineClasses:this.headlineClassesComputed,name:this.author}},headlineLevelComputed(){return this.headlineLevel||"h1"},headlineClassesComputed(){return`page-detail__headline event-detail__headline ${this.headlineClasses}`},stickyOptions(){return JSON.stringify({parentSelector:".page-detail__sticky-start",breakpoint:"lg",startPoint:".page-detail__sticky-start",endPoint:".page-detail__sticky-end",stickyOffsetTop:200,stickyOffsetBottom:20})}}},ue={class:"page-detail__shape-container container"},fe={class:"row"},ge={class:"col-md-11 col-lg-5"},ye={class:"page-detail__shape-spacer"},ke={key:1};function ve(a,t,e,n,l,c){const r=ae,p=D,u=O,b=$,m=he;return o(),C(m,{style:A({"--page-detail-color":`var(${e.detailColor})`,"--color-icon-hover-color":`var(${e.detailColor})`,"--color-page-detail-shape":e.detailShapeColor}),"detail-shape-color":e.detailShapeColor},j({shape:h(()=>[s("div",ue,[s("div",fe,[s("div",ge,[s("div",ye,[i(r,x(w(c.introData)),null,16)])])])])]),body:h(()=>[e.body?(o(),C(p,{key:0,value:e.body,tag:"main",class:"page-detail__description has-no-border richtext"},null,8,["value"])):(o(),d("div",ke,[i(u,{level:a.h3},{default:h(()=>t[0]||(t[0]=[P("No Event found")])),_:1},8,["level"])]))]),intro:h(()=>[i(r,x(w(c.introData)),null,16)]),_:2},[e.form?{name:"formular",fn:h(()=>[i(b,U(e.form,{"has-animation":!0,class:"space-top-3 space-top-lg-1"}),null,16)]),key:"0"}:void 0]),1032,["style","detail-shape-color"])}const Le=v(L,[["render",ve]]);L.__docgenInfo={exportName:"default",displayName:"event-detail",description:"",tags:{},props:[{name:"detailColor",type:{name:"string"},defaultValue:{func:!1,value:"'--color-event-detail'"}},{name:"detailShapeColor",type:{name:"string"},defaultValue:{func:!1,value:"'var(--color-event-detail-shape)'"}},{name:"headlineText",type:{name:"string"}},{name:"author",type:{name:"array"}},{name:"headlineLevel",type:{name:"string"},defaultValue:{func:!1,value:"'h1'"}},{name:"headlineClasses",type:{name:"string"},defaultValue:{func:!1,value:"'bold'"}},{name:"form",type:{name:"object"}},{name:"image",type:{name:"object"}},{name:"badge",type:{name:"object"}},{name:"moment",type:{name:"string"}},{name:"time",type:{name:"string"}},{name:"lang",type:{name:"string"},defaultValue:{func:!1,value:"'de'"}},{name:"body",type:{name:"object"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/event-detail.vue"]};export{Le as _};
