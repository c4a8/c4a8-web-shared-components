import{_ as g}from"./CSJgQLCS.js";import{_ as k}from"./4Xo05EoG.js";import{_ as M,a as S}from"./aOThY809.js";import{_ as N}from"./BTVmyLOl.js";import{_ as B,e as r,w as i,n as d,T as U,o as a,a as c,d as h,K as q,an as A,c as _,F as C,r as D,b as v,f as p,m as F,t as I,M as E}from"./zvok-ktz.js";import{U as T}from"./Bb1NnlnY.js";const f={tagName:"event-overview",data(){return{translationData:null,defaultLimit:3,maxLimitDefault:6,showMore:!1,filesValue:[]}},computed:{classList(){return["event-overview has-no-row is-component utility-animation vue-component",U.isTrue(this.overlap)?"event-overview--overlap":null]},lastIndex(){return parseInt(this.limitValue,10)+1},limitValue(){return this.limit?this.limit:this.defaultLimit},maxLimitValue(){return this.maxLimit>0?this.maxLimit:this.maxLimitDefault},eventsValue(){return this.events?this.events.slice(0,this.maxLimitValue)||[]:[]},hasMore(){return this.showMore?!1:this.filesValue.length>this.limitValue},query(){let e={};return this.order&&Array.isArray(this.order)&&(e.where={eventid:{IN:this.order}}),e.path="/events",e},sort(){return this.sortBy||{moment:1}}},mounted(){T.init([this.$refs.root])},methods:{updatedEvent(e){return e.cta?(e.url=e.cta.href,e.external=e.cta.external||!1):e.external=!1,e},isVisible(e){return this.showMore||e+1<=this.limitValue},handleShowMore(){this.moreUrl&&(document.location.href=this.moreUrl),this.showMore=!0},updateFiles(e){if(e)return this.filesValue=e,!0}},props:{events:Array,headline:String,headlineLevel:String,overlap:Boolean,limit:Number,maxLimit:Number,moreUrl:String,order:Array,sortBy:Object}};function z(e,l,n,j,G,t){const y=g,x=k,w=S,L=M,V=N;return a(),r(V,{class:d(t.classList),ref:"root"},{default:i(()=>[n.headline?(a(),r(y,{key:0,class:"event-overview__headline",text:n.headline,level:n.headlineLevel},null,8,["text","level"])):c("",!0),h(A,{name:"event-overview__item"},{default:i(()=>[(a(),r(L,{"data-list":t.eventsValue,query:t.query,key:0},{default:i(({list:s,strategy:b})=>[h(w,{list:s,sort:t.sort,strategy:b,limit:t.maxLimitValue},{default:i(({files:m})=>[t.updateFiles(m)?(a(!0),_(C,{key:0},D(m,(u,o)=>(a(),_("div",{key:o,class:d({"is-visible":t.isVisible(o),"event-overview__item":!0})},[v("div",{class:"fade-in-bottom","data-utility-animation-step":"1",style:p({"--utility-animation-index":o+1})},[(a(),r(x,F({key:u.url,ref_for:!0},t.updatedEvent(u)),null,16))],4)],2))),128)):c("",!0)]),_:2},1032,["list","sort","strategy","limit"])]),_:1},8,["data-list","query"]))]),_:1}),q(v("div",{class:"event-overview__more font-size-1 bold fade-in-bottom",onClick:l[0]||(l[0]=(...s)=>t.handleShowMore&&t.handleShowMore(...s)),"data-utility-animation-step":"1",style:p({"--utility-animation-index":t.lastIndex})},I(e.$t("moreEvents")),5),[[E,t.hasMore]])]),_:1},8,["class"])}const R=B(f,[["render",z]]);f.__docgenInfo={exportName:"default",displayName:"event-overview",description:"",tags:{},props:[{name:"events",type:{name:"array"}},{name:"headline",type:{name:"string"}},{name:"headlineLevel",type:{name:"string"}},{name:"overlap",type:{name:"boolean"}},{name:"limit",type:{name:"number"}},{name:"maxLimit",type:{name:"number"}},{name:"moreUrl",type:{name:"string"}},{name:"order",type:{name:"array"}},{name:"sortBy",type:{name:"object"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/event-overview.vue"]};export{R as _};
