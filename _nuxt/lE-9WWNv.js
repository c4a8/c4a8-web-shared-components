import{_ as D}from"./BexONGrT.js";import{_ as H}from"./BNrlaTd-.js";import{_ as U}from"./DjHmRnne.js";import{S as F}from"./Bln8_KJV.js";import{_ as M}from"./CX7QONnW.js";import{S as O}from"./CJLyuNHb.js";import{_ as R}from"./DH_ybjs8.js";import{_ as q}from"./kBdTqoWr.js";import{_ as j}from"./B8LMAz4v.js";import{T as W}from"./2gRjXiKs.js";import{c as i,k as X,m as v,z as K,o as n,_ as G,b as r,n as h,t as f,a as m,F as g,r as k,d as p,e as c,w as S,h as x,T as _,q as y}from"./BJ5CtYNJ.js";import{u as J}from"./BOuSU4ec.js";import{u as Q}from"./Dm1GsuHN.js";const Y=["href"],P={__name:"content-renderer-link",props:["href"],setup(a){const t=a,l=e=>{if(t.href){const d=e.currentTarget.getAttribute("target");d?window.open(t.href,d):window.location.href=t.href}};return(e,d)=>(n(),i("a",v({href:a.href},e.$attrs,{onClick:K(l,["prevent"]),class:"content-renderer-link"}),[X(e.$slots,"default")],16,Y))}};P.__docgenInfo={exportName:"default",displayName:"content-renderer-link",description:"",tags:{},props:[{name:"href",type:{name:"undefined"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/content-renderer-link.vue"]};const C={tagName:"post-detail",components:{ContentRendererLink:P},setup(){const{authors:a}=Q(),t=y(!1),l=y(null),e=y(0),d=J();return{authors:a,isAtEnd:t,endPoint:l,stickyContentHeight:e,store:d,ContentRendererLink:P}},data(){return{shouldShowStickyBlocks:!1}},mounted(){if(this.checkStickyBlocks(),window.addEventListener("resize",this.checkStickyBlocks),!this.normalizedPost)return _.gotoHome();this.store.setPageIsLoaded(!0)},unmounted(){window.removeEventListener("resize",this.checkStickyBlocks)},methods:{checkStickyBlocks(){this.shouldShowStickyBlocks=!this.asideNavValue||!_.isBelowBreakpoint("lg")}},computed:{contentWidth(){var a,t;return["richtext",((t=(a=this.post)==null?void 0:a.meta)==null?void 0:t.maxContent)===!0?"richtext--full-width":null]},stickyOffsetTop(){return this.asideNavValue?124:100},asideNavValue(){var a,t;return((t=(a=this.post)==null?void 0:a.meta)==null?void 0:t.asideNav)||null},enhancedPost(){return this.normalizedPost?{...this.normalizedPost,body:{...this.normalizedPost.body,value:_.applyKramdownAttrs(this.normalizedPost.body.value)}}:null},normalizedPost(){return this.post?_.normalizeMarkdownItem(this.post):null},avatars(){var t;return((t=this.normalizedPost)==null?void 0:t.author).filter(l=>{var e;return this.authors&&((e=this.authors[l])==null?void 0:e.avatar)})},blogImagePath(){return _.blogImagePath},formattedDate(){var t;return(t=this.normalizedPost)!=null&&t.date?new Date(this.normalizedPost.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):""},formattedDateXml(){var t;return(t=this.normalizedPost)!=null&&t.date?new Date(this.normalizedPost.date).toISOString():""}},props:{post:{type:Object,required:!0},shareUrl:{type:String,default:""}}},Z={class:"w-xl-80 mx-xl-auto"},$={key:0,class:"post h-entry",itemscope:"",itemtype:"http://schema.org/BlogPosting",ref:"article"},tt={class:"post-header"},et={class:"py-4 mt-5"},ot={class:"row align-items-md-center"},nt={key:0,class:"col-md-7 mb-5 mb-md-0"},st={class:"media align-items-center"},at=["datetime"],rt={class:"post-content e-content",itemprop:"articleBody"},it=["innerHTML"],lt={key:0,class:"post__title-images"},dt={key:1,class:"post__intro-img"},ct={key:0},mt={class:"post-detail__tags mt-5"},ut={key:1};function ht(a,t,l,e,d,o){const N=D,B=H,b=U,V=F,z=M,E=O,A=R,I=q,L=j,T=W;return n(),i("div",{class:h(["post-detail container space-top-2 space-top-lg-4",{"post-detail--aside-nav":o.asideNavValue}])},[r("div",Z,[o.normalizedPost?(n(),i("article",$,[r("header",tt,[r("h1",{class:h(["post-title p-name",o.normalizedPost.titleClass||"h2-font-size"]),itemprop:"name headline"},f(o.normalizedPost.title),3),r("div",et,[r("div",ot,[l.post.author?(n(),i("div",nt,[r("div",st,[(n(!0),i(g,null,k(o.avatars,s=>{var u,w;return n(),i("div",{key:s,class:"avatar mr-2"},[e.authors&&((u=e.authors[s])!=null&&u.avatar)?(n(),c(N,{key:0,"img-url":(w=e.authors[s])==null?void 0:w.avatar,author:e.authors[s]},null,8,["img-url","author"])):m("",!0)])}),128)),r("div",{class:h(["media-body font-size-1",{"ml-3":o.avatars.length>0}])},[p(B,{"authors-list":o.normalizedPost.author,"data-authors":e.authors},null,8,["authors-list","data-authors"])],2)])])):m("",!0),r("div",{class:h(["col-md-5 align-self-end pr-lg-0",{"pl-lg-0":!l.post.author}])},[r("div",{class:h(["text-muted font-size-1",{"text-right":l.post.author}])},[r("time",{class:"dt-published",datetime:o.formattedDateXml,itemprop:"datePublished"},f(o.formattedDate),9,at)],2)],2)])])]),r("div",rt,[r("p",{class:"post__sticky-excerpt",innerHTML:o.normalizedPost.customExcerpt||o.normalizedPost.excerpt},null,8,it),l.post.blogTitleImages?(n(),i("div",lt,[p(V,{"hide-background":!0},{default:S(()=>[(n(!0),i(g,null,k(o.normalizedPost.blogTitleImages,(s,u)=>(n(),c(b,{key:u,cloudinary:s.cloudinary,img:s.img},null,8,["cloudinary","img"]))),128))]),_:1})])):o.normalizedPost.blogtitlepic?(n(),i("div",dt,[p(b,{img:o.blogImagePath+o.normalizedPost.blogtitlepic,cloudinary:!0,alt:o.normalizedPost.title,"img-src-sets":"postImages"},null,8,["img","alt"]),o.normalizedPost.blogtitlepicsubline?(n(),i("figcaption",ct,f(o.normalizedPost.blogtitlepicsubline),1)):m("",!0)])):m("",!0),d.shouldShowStickyBlocks?(n(),c(A,{key:2,"is-at-end":e.isAtEnd,"onUpdate:isAtEnd":t[0]||(t[0]=s=>e.isAtEnd=s),"end-point":e.endPoint,"onUpdate:endPoint":t[1]||(t[1]=s=>e.endPoint=s),"content-height":e.stickyContentHeight,"onUpdate:contentHeight":t[2]||(t[2]=s=>e.stickyContentHeight=s),class:"post__sticky-bar","sticky-offset-top":o.stickyOffsetTop,"sticky-offset-bottom":20,"has-padding":!o.asideNavValue,breakpoint:"lg"},{default:S(()=>[o.asideNavValue?(n(),c(z,x(v({key:0},o.asideNavValue)),null,16)):(n(),c(E,{key:1,vertical:!0,"hide-label":!0,author:null,"share-url":l.shareUrl},null,8,["share-url"]))]),_:1},8,["is-at-end","end-point","content-height","sticky-offset-top","has-padding"])):m("",!0),p(I,{value:o.enhancedPost,tag:"main",class:h(o.contentWidth),components:{a:e.ContentRendererLink}},null,8,["value","class","components"]),d.shouldShowStickyBlocks?(n(),c(L,{key:3,"is-at-end":e.isAtEnd,"onUpdate:isAtEnd":t[3]||(t[3]=s=>e.isAtEnd=s),"end-point":e.endPoint,"onUpdate:endPoint":t[4]||(t[4]=s=>e.endPoint=s),"content-height":e.stickyContentHeight,"sticky-offset-bottom":60},null,8,["is-at-end","end-point","content-height"])):m("",!0),r("div",mt,[(n(!0),i(g,null,k(o.normalizedPost.tags,(s,u)=>(n(),c(T,{key:u,tag:s,variant:"small"},null,8,["tag"]))),128))]),!d.shouldShowStickyBlocks&&o.asideNavValue?(n(),c(z,x(v({key:4},o.asideNavValue)),null,16)):m("",!0)])],512)):(n(),i("div",ut,[...t[5]||(t[5]=[r("h1",null,"Post not found",-1)])]))])],2)}const Ct=G(C,[["render",ht]]);C.__docgenInfo={exportName:"default",displayName:"post-detail",description:"",tags:{},props:[{name:"post",type:{name:"object"},required:!0},{name:"shareUrl",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/post-detail.vue"]};export{Ct as _};
