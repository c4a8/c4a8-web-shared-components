import{_ as O}from"./B9c1eMpH.js";import{_ as D}from"./CErPvzzT.js";import{_ as I}from"./DUEI_jeV.js";import{_ as F}from"./DcfWOy5r.js";import{a as L,_ as z}from"./DweayRtz.js";import{_ as K,e as w,a as i,w as c,T as m,S as M,R as P,Q as R,o as r,c as l,n as h,d,f as H,b as S,g as G,t as x,F as V,r as J,m as Q}from"./CF52gXf2.js";import{S as A}from"./CyAMqubp.js";import{U as W}from"./Du29AnCQ.js";import{u as X}from"./D0ppZyi5.js";const T={components:{MarkdownFiles:L},tagName:"blog-recent",data(){return{hideData:["tags"],filesValue:[],dataAuthorsValue:null,retryLimit:5,retryTimeout:200}},setup(){const e=P(),{authors:s}=X(),{strategy:t}=R();return{config:e,authors:s,strategy:t}},computed:{classList(){return["blog-recent utility-animation utility-animation--percentage-offset",`${this.hasBackground}`,`${this.skinClass}`,this.hideContainer===!0?"":this.getSpacing,this.sticky===!0?A.rootSelector.substring(1):"","vue-component"]},showComponent(){return this.postsArray.length>0||this.query},query(){let e={};return e.limit=this.limit,e.sort=[{moment:this.reversed?1:-1}],e.reversed=this.reversed,this.combine===!0?(e.where={layout:{IN:["event","post","casestudies"]}},e.path="event-post-casestudies",e.limit=null,e.limitEvents=this.limitEvents):this.events===!0?(e.where={path:{LIKE:["/events/%"]}},e.path="events"):this.caseStudies===!0?(e.where={path:{LIKE:["/casestudies/%"]}},e.path="casestudies"):(e.where={path:{LIKE:["/posts/%"]}},e.path="posts"),this.tag&&(e.where||(e.where={}),e.where.tags={LIKE:`%${this.tag}%`}),e},getSpacing(){return this.spacing?this.spacing:""},hasBackground(){return this.bgColor?M.HAS_BACKGROUND:""},blogRecentContainerClass(){return["blog-recent__container fade-in-bottom",this.slider===!0?"js-slick-carousel":"row mb-3","vue-component"]},hiddenContainer(){return this.slider===!1?this.hideContainer:!1},skinClass(){return`${this.slider===!0?"has-slider":""}`},itemClass(){return`${this.slider===!0?"mb-6 mb-lg-0 blog-recent__slide":"col-sm-6 col-lg-4 mb-3 mb-sm-8"}`},postsArray(){return typeof this.posts=="string"?JSON.parse(this.posts):this.posts},carouselOptions(){var s,t,o;return{...{rows:0,slidesToShow:3,slidesToScroll:3,prevArrow:'<span class="slick__arrow-left rounded-circle"></span>',nextArrow:'<span class="slick__arrow-right rounded-circle"></span>',dots:((s=this.filesValue)==null?void 0:s.length)>3,centerMode:!1,infinite:!1,dotsClass:"slick-pagination is-default",responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1}},{breakpoint:992,settings:{centerMode:!0,infinite:!0,centerPadding:"30px",slidesToShow:2,slidesToScroll:2,dots:((t=this.filesValue)==null?void 0:t.length)>2}},{breakpoint:576,settings:{centerMode:!0,infinite:!1,centerPadding:"20px",slidesToShow:1,slidesToScroll:1,dots:((o=this.filesValue)==null?void 0:o.length)>1}}]},...this.sliderOptions}},headlineLevelValue(){return this.headlineLevel?this.headlineLevel:"h3"},headlineClassesValue(){const e="h2-font-size";return this.headlineClasses?m.hasFontSizeClass(this.headlineClasses)?this.headlineClasses:`${e} ${this.headlineClasses}`:e},sublineClassesValue(){return`blog-recent__subline ${this.sublineClasses?this.sublineClasses:"font-size-2"}`},imgUrl(){return m.getBlogImgPath(this.config)}},watch:{filesValue(e){e.length>0&&this.$nextTick(()=>{this.init()})}},created(){this.getDataAuthors()},methods:{init(){if(this.retryLimit>0&&!this.$refs.container)return setTimeout(()=>{this.retryLimit--,this.init()},this.retryTimeout);m.initSlickSlider(this.$refs.container,this.carouselOptions),this.$refs.root&&(this.sticky&&A.init([this.$refs.root]),W.init([this.$refs.root]))},async getDataAuthors(){if(this.dataAuthors)return this.dataAuthorsValue=this.dataAuthors;this.dataAuthorsValue=this.authors},event(e){return e.layout!=="post"},blogTitleUrl(e){var s,t;return e.layout==="casestudies"?(s=e.hero)!=null&&s.v2?e.hero.shape.img:e.hero.background.img:(t=e.image)!=null&&t.img?e.image.img:this.imgUrl+e.blogtitlepic},target(e){var s;return e.external||(s=e.cta)!=null&&s.external?"_blank":"_self"},postUrl(e){var t;return((t=e==null?void 0:e.cta)==null?void 0:t.href)||e.url},excerpt(e){var s;return e.excerpt||((s=e.hero)==null?void 0:s.subline)},updateFiles(e){if(e)return this.filesValue=e,!0}},props:{bgColor:{type:String,default:"var(--color-blue-light)"},dataAuthors:Object,headline:String,headlineLevel:String,headlineClasses:String,subline:String,sublineClasses:String,spacing:String,posts:{type:[Array,String],default:[]},cta:{default:null},hideContainer:{default:!1},limitEvents:Number,limit:{type:Number,default:3},slider:{default:null},sliderOptions:Object,sticky:{default:null},events:Boolean,combine:Boolean,caseStudies:Boolean,reversed:Boolean,tag:{type:String,default:null}}},Y={key:0,class:"row"},Z={class:"col-lg-12 col-md-10 mt-6 mt-lg-8 mb-4 mb-lg-6 fade-in-bottom","data-utility-animation-step":"1"},$={key:1,class:"blog-recent__cta-row row col-lg-12"};function ee(e,s,t,o,g,a){const B=O,N=D,j=I,U=F,q=L,E=z;return a.showComponent?(r(),w(E,{key:0,"data-list":a.postsArray,query:a.query},{default:c(({list:f})=>[f?(r(),w(q,{key:0,list:f,"hide-data":g.hideData,query:a.query,limit:t.limit,"is-recent":!0,"hide-items":u=>new Date(u.date)>new Date,strategy:o.strategy},{default:c(({files:u})=>[a.updateFiles(u)?(r(),l("div",{key:0,class:h(a.classList),ref:"root"},[a.skinClass!==""?(r(),l("div",{key:0,class:"blog-recent__bg",style:H({"background-color":t.bgColor})},null,4)):i("",!0),d(U,{hideContainer:a.hiddenContainer},{default:c(()=>{var _,b,y,p,v,C;return[t.headline?(r(),l("div",Y,[S("div",Z,[d(B,{level:a.headlineLevelValue,classes:a.headlineClassesValue},{default:c(()=>[G(x(t.headline),1)]),_:1},8,["level","classes"]),t.subline?(r(),l("span",{key:0,class:h(a.sublineClassesValue)},x(t.subline),3)):i("",!0)])])):i("",!0),S("div",{class:h(a.blogRecentContainerClass),"data-utility-animation-step":"1",ref:"container"},[(r(!0),l(V,null,J(u,(n,k)=>(r(),l(V,null,[k<=t.limit?(r(),l("div",{class:h(a.itemClass),key:k},[d(N,Q({ref_for:!0},n,{url:a.postUrl(n),blogtitlepic:a.blogTitleUrl(n),"youtube-url":n.youtubeUrl,date:n.date,author:n.author,target:a.target(n),event:a.event(n),dataAuthors:g.dataAuthorsValue,"external-language":n.externalLanguage,excerpt:a.excerpt(n)}),null,16,["url","blogtitlepic","youtube-url","date","author","target","event","dataAuthors","external-language","excerpt"])],2)):i("",!0)],64))),256))],2),t.cta?(r(),l("div",$,[d(j,{text:(_=t.cta)==null?void 0:_.text,button:(b=t.cta)==null?void 0:b.button,target:(y=t.cta)==null?void 0:y.target,width:(p=t.cta)==null?void 0:p.width,href:(v=t.cta)==null?void 0:v.href,external:(C=t.cta)==null?void 0:C.external},null,8,["text","button","target","width","href","external"])])):i("",!0)]}),_:2},1032,["hideContainer"])],2)):i("",!0)]),_:2},1032,["list","hide-data","query","limit","hide-items","strategy"])):i("",!0)]),_:1},8,["data-list","query"])):i("",!0)}const ce=K(T,[["render",ee]]);T.__docgenInfo={exportName:"default",displayName:"blog-recent",description:"",tags:{},props:[{name:"bgColor",type:{name:"string"},defaultValue:{func:!1,value:"'var(--color-blue-light)'"}},{name:"dataAuthors",type:{name:"object"}},{name:"headline",type:{name:"string"}},{name:"headlineLevel",type:{name:"string"}},{name:"headlineClasses",type:{name:"string"}},{name:"subline",type:{name:"string"}},{name:"sublineClasses",type:{name:"string"}},{name:"spacing",type:{name:"string"}},{name:"posts",type:{name:"array|string"},defaultValue:{func:!1,value:"[]"}},{name:"cta",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"hideContainer",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"limitEvents",type:{name:"number"}},{name:"limit",type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"slider",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"sliderOptions",type:{name:"object"}},{name:"sticky",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"events",type:{name:"boolean"}},{name:"combine",type:{name:"boolean"}},{name:"caseStudies",type:{name:"boolean"}},{name:"reversed",type:{name:"boolean"}},{name:"tag",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/c4a8-web-shared-components/c4a8-web-shared-components/nuxt/components/blog-recent.vue"]};export{ce as _};
